<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>Draw Events</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">

<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/2_interface/1_editors/events/draw_events.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F2_interface%2F1_editors%2Fevents%2Fdraw_events.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F2_interface%2F1_editors%2Fevents%2Fdraw_events.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! --><script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script><h2> Dessiner des événements </h2><div class="body-scroll"><p> L&#39; <b>événement Draw</b> est celui qui régit ce que vous voyez sur l&#39;écran lorsque vous exécutez votre partie, et il est divisé en plusieurs sous-événements distincts pour mieux gérer les différentes exigences de dessin pour votre jeu. L&#39;image ci-dessous illustre l&#39;ordre dans lequel chaque événement est effectué: <img class="center" src=
"images/editor_events_draworder.png" alt="Diagramme de dessin de l&#39;éditeur d&#39;objets"> L&#39;événement <b>Draw</b> normal se divise en trois types de sous-événements: les événements <b>Draw Begin</b>, <b>Draw</b> standard et <b>Draw End</b>. En général, vous n&#39;aurez besoin que d&#39;utiliser le sous-événement <b>Draw</b> standard et vous devez être conscient que toutes les instances d&#39;une salle verront cet événement déclenché à chaque étape du jeu, donc ce sous-événement sera <i>toujours appelé aussi longtemps que le instance a l&#39;indicateur <b>visible</b> défini sur true</i>. Même si vous n&#39;avez rien défini pour ce sous-événement dans les propriétés de l&#39;objet (ie: pas de code ni d&#39;action), si l&#39;objet a un sprite assigné, il aura <i>toujours</i> un sous-événement draw qui sera déclenché. C&#39;est parce que <i><span class="notranslate">GameMaker Studio 2</span></i> a deux façons de dessiner des choses dans le sous-événement Draw: application <br><br></p><ul><li> <b>le dessin par défaut</b>, qui consiste à définir l&#39;image-objet dans les propriétés de l&#39;objet et à ne placer aucune action ou code dans le sous-événement <b>Dessin</b> normal, auquel cas <i><span class="notranslate">GameMaker Studio 2</span></i> dessine cette image-objet. Notez que toutes les transformations que vous effectuez dans d&#39;autres événements pour changer l&#39;échelle de l&#39;image, l&#39;index, le mélange etc... seront reflétées aussi longtemps que l&#39;événement draw est vide. <br><br></li><li> <b>le dessin personnalisé</b>, qui consiste à placer du code ou des actions dans l&#39;événement draw. Cela <i><span class="notranslate">GameMaker Studio 2</span></i> à <i><span class="notranslate">GameMaker Studio 2</span></i> &quot;Je veux contrôler ce que vous dessinez pour les instances de cet objet&quot; et il annule complètement le dessin par défaut. Cela signifie que, par exemple, vous pouvez affecter un objet avec une image-objet, puis définir l&#39;événement draw pour dessiner du texte et l&#39;image-objet ne sera pas dessinée car vous n&#39;avez pas demandé à <i><span class="notranslate">GameMaker Studio 2</span></i> de le dessiner avec le texte. <br></li></ul><p> Le reste des événements de dessin sont expliqués dans les sections suivantes: </p><blockquote><a name="draw_begin_end" id="draw_begin_end"></a> <label class="collapse" for="one">Dessiner Commencer et Dessiner Fin</label> <input id="one" type="checkbox"><div class="index_list"> En dehors du sous-événement <b>Draw</b> principal, vous avez également un sous-événement <b>Draw Begin</b> et <b>Draw End</b>. Ceux-ci agissent exactement comme un sous-événement <b>Draw</b> standard (ie: ils dessineront tout ce que vous y mettez à chaque étape du jeu et pour toutes les vues), mais ils ne &quot;dessineront&quot; rien s&#39;ils ne sont pas ajoutés à un objet, et ils fonctionneront toujours avant / après le sous-événement <b>Draw</b> standard. Donc, vous auriez le <b>tirage</b> au <b>sort Begin</b> étape pour tous les cas, le <b>tirage</b> au <b>sort</b> pour toutes les instances, puis finalement l&#39;étape <b>de fin de tirage</b> au <b>sort</b> pour toutes les instances. <br><br> De cette manière, vous pouvez dessiner ou définir des propriétés de dessin dans l&#39;étape Dessiner le début dans une instance et vous assurer que toutes les occurrences avec un événement Draw ou Draw End standard utiliseront ces propriétés ou dessineront ce que la première instance a dessiné. Fondamentalement, c&#39;est un moyen sûr de s&#39;assurer que certaines choses sont tirées à certains moments, tout comme les événements Begin Step et End Step. <br><br> Il y a quelques petites choses à noter lorsque vous <i><span class="notranslate">GameMaker</span></i> choses dans <i><span class="notranslate">GameMaker</span> Studio 2</i>, que ce soit un sprite que vous <i><span class="notranslate">GameMaker</span></i> ou un shader, ou 3D: <br><br><ul><li> L&#39;événement draw est un événement très intense, en ce sens que c&#39;est l&#39;un des événements qui prend le plus de temps et de ressources... à cette fin, il n&#39;est jamais bon de faire quoi que ce soit dans l&#39;événement draw autre que le dessin. Enregistrez donc votre code volumineux ou des actions complexes pour l&#39;événement Step ou les alarmes ou tout autre événement, mais laissez l&#39;événement de dessin dégagé pour le dessin car c&#39;est ce qu&#39;il fait le mieux. <br><br></li><li> Si le paramètre visible est désactivé sur votre objet (afin que les instances de l&#39;objet ne soient pas dessinées), tous les événements de dessin sont ignorés (à l&#39;exception de l&#39;événement <b>Resize</b> ). Cela signifie qu&#39;une instance invisible <i>empêchera l&#39;exécution de tout le code placé dans l&#39;un de ces événements</i>, donc ne mettez pas de code essentiel dans les événements draw s&#39;ils ne sont pas visibles. <br><br></li><li> Ce que vous dessinez n&#39;a rien à voir avec le moteur de collision choisi (traditionnel ou physique) tel qu&#39;il est défini par les propriétés de l&#39;objet et l&#39;image-objet (ou masque) que l&#39;objet a été donné. <br></li></ul></div><br><a name="draw_GUI" id="draw_GUI"></a> <label class="collapse" for=
"two">Dessiner l&#39;interface graphique</label> <input id="two" type="checkbox"><div class="index_list"> Le type de sous-événement <b>Draw Gui</b> relève de la catégorie <b>Draw Event</b> et est spécifiquement conçu pour dessiner des éléments GUI (Graphical User Interface) qui ne sont pas affectés par l&#39;échelle ou la rotation de la vue. Cela signifie que vous pouvez avoir une instance dessiner tous les éléments pour votre HUD sans avoir à baser tout le positionnement des éléments sur la position de l&#39;instance dans la pièce ou la position de la vue actuelle. <br><br> Lorsque vous dessinez dans ces événements, il est important que vous compreniez que les coordonnées de dessin ne changent pas même lorsque les vues sont actives et (0,0) est <i>toujours</i> le coin supérieur gauche de la surface d&#39;application ou de l&#39;affichage (voir la remarque au en bas de cette section), et la largeur et la hauteur par défaut sont 1: 1 avec la surface d&#39;application. L&#39;ordre de profondeur est toujours maintenu entre différentes instances sur différentes couches (donc une instance sur une couche inférieure dessine sous une couche supérieure) et aussi dans les événements eux-mêmes, car le sous-événement <b>Draw GUI Begin</b> dessine d&#39;abord toutes les instances, alors l&#39; <b>interface graphique Draw</b> standard dessine pour toutes les instances, et finalement le sous-événement <b>Draw Gui End</b> est déclenché. <br><br> De cette façon, vous pouvez dessiner des objets ou définir des propriétés de dessin dans l&#39; <b>interface graphique Draw</b> dans une instance et vous assurer que toutes les instances avec un sous-événement standard <b>Draw GUI</b> ou <b>Draw GUI End</b> utilisent ces propriétés ou dessinent ce que la première instance a tiré. Fondamentalement, c&#39;est un moyen sûr de garantir que certaines choses sont tirées à certains moments, tout comme le font les sous-événements <b>Begin Step</b> et <b>End Step</b>. <br><br> Ces événements peuvent également être utilisés conjointement avec les sous-événements <b>Draw</b> normaux (qui seront affectés par la position, l&#39;échelle et la rotation de la vue comme d&#39;habitude). Si vous n&#39;avez pas d&#39; <b>événement Draw</b> mais que vous avez un <b>événement Draw GUI</b>, alors <i><span class="notranslate">GameMaker Studio 2</span></i> conserve par défaut l&#39;image-objet de l&#39;instance (si elle en a une) comme d&#39;habitude. <br><br> En relation avec les autres sous-événements draw, les événements <b>Draw GUI</b> dessinent toujours sur tout ce qui est dessiné dans les événements draw normaux. Donc, si vous avez une instance sur un calque inférieur avec un événement <b>Draw GUI</b>, il attirera l&#39;instance qui se trouve sur un calque supérieur avec un événement draw normal. Si les deux instances ont un sous-événement <b>Draw GUI</b>, l&#39;ordre des couches sera respecté. <br><br><div class="note"> <b>REMARQUE</b>: cet événement dessine par défaut 1: 1 avec la taille de la surface de l&#39;application, qui correspond normalement à la taille de la pièce ou au port de vue. Cela signifie que lorsque vous avez <b>Correction du rapport d&#39;aspect</b> dans les <a href=
"../../3_settings/game_options/index.html">options de jeu,</a> l&#39;interface graphique ne va pas être dessiné sur les barres noires que &quot;boîte aux lettres&quot; le jeu. Ce comportement peut être désactivé en utilisant le <a href=
"../../../3_scripting/4_gml_reference/cameras%20and%20display/display/display_set_gui_maximise.html"><tt>display_set_gui_maximise</tt></a> fonction, et vous pouvez également verrouiller l&#39;événement GUI à une taille spécifique qui sera ensuite mise à l&#39;échelle pour s&#39;adapter à l&#39;affichage ou les dimensions de surface de l&#39;application automatiquement en utilisant la fonction <a href=
"../../../3_scripting/4_gml_reference/cameras%20and%20display/display/display_set_gui_size.html"><tt>display_set_gui_size</tt></a>. </div></div><br><a name="draw_pre_post" id="draw_pre_post"></a> <label class=
"collapse" for="three">Avant et après le tirage</label> <input id="three"
type="checkbox"><div class="index_list"> Les sous-événements <b>Pré-tirage</b> et <b>Post-tirage</b> font partie de la catégorie <b>Événement de tirage</b>. Toutefois, contrairement aux autres événements Draw, ils sont directement dessinés dans le tampon d&#39;écran, qui correspond à la taille de l&#39;espace d&#39;écran combiné pour toutes les vues actuellement visibles ou à la taille de la fenêtre si une seule vue ou aucune. L&#39;image ci-dessous illustre ceci: <img class=
"center" src="images/editor_object_postdraw.png" alt="Éditeur d&#39;objets"> Ainsi, si vous utilisez les événements <b>Pre</b> ou <b>Post</b> draw, vous dessinez sur la cible de rendu en plein écran qui aura la même taille que la fenêtre à laquelle toutes les vues sont adaptées. Si vous n&#39;avez pas de vue active, elle est définie à la place de la taille de la fenêtre elle-même. <br><br> Le sous-événement <b>Pre Draw</b> est déclenché avant tout autre événement draw, et vous pouvez y définir des valeurs, définir des propriétés draw et même dessiner des choses sans vous soucier des vues ou de la taille de la couche GUI (la taille de la couche GUI peut être la même en tant que tampon d&#39;écran, mais il peut ne pas puisque vous pouvez définir la résolution de l&#39;interface graphique en code). <br><br> Il convient de noter que cet événement se produit avant que le tampon d&#39;écran ne soit effacé, ce qui signifie que si vous ne désactivez pas l&#39;effacement de vue dans l&#39;éditeur de pièce, rien ne sera visible dans l&#39;événement <b>Pre Draw</b>. Si vous voulez être capable de voir à travers les vues elles-mêmes, ou vous n&#39;utilisez pas du tout les vues, alors vous devriez également avoir défini la couleur de fond pour avoir un alpha de 0 dans l&#39; <a href="../rooms.html">éditeur de pièce</a>. <br><br><div class="note"> <b>REMARQUE:</b> Si vous désactivez ces options, vous remarquerez peut-être que des artefacts indésirables sont dessinés à l&#39;écran lorsque le jeu est testé (comme des &quot;traces&quot; provenant d&#39;instances). C&#39;est parce que vous dessinez directement sur l&#39;image précédente de la mémoire tampon sans qu&#39;elle soit effacée. Cependant vous pouvez utiliser <a href=
"../../../3_scripting/4_gml_reference/drawing/colour/draw_clear_alpha.html"><tt>draw_clear_alpha</tt></a> pour le faire vous-même. </div><br> Le sous-événement <b>Post Draw</b> est déclenché après les événements de dessin standard, mais avant les événements Draw GUI. Comme l&#39;événement Pre Draw, il est basé sur la taille de la taille de la mémoire tampon et est placé avant les événements Draw GUI pour vous permettre d&#39;effectuer des effets de post-traitement et d&#39;autres choses en plein écran simplement et facilement sans interférer avec HUD / GUI éléments que vous pouvez avoir dans votre jeu. </div><br><a name="draw_resize" id="draw_resize"></a> <label class="collapse"
for="four">Fenêtre Redimensionner</label> <input id="four" type="checkbox"><div class="index_list"> Ce type d&#39;événement tombe sous la catégorie <b>Draw Event</b>, et bien qu&#39;il ne dessine réellement rien, il réagit aux changements dans le canevas de dessin - en particulier, il est conçu pour réagir à la modification de la taille du canevas <span class="notranslate">Windows 8</span> 8/10 lorsque la fenêtre de jeu est &quot;cassée&quot;. <br><br> Sur la plate-forme cible <span class="notranslate">Windows 8</span> il est important d&#39;observer tout redimensionnement de la toile de jeu à partir de la «capture» de la fenêtre de jeu (lorsque l&#39;utilisateur fait glisser la fenêtre sur le côté de l&#39;écran, par exemple). Cet événement fera exactement cela et est déclenché chaque fois que le canevas est modifié, ce qui vous permet d&#39;ajouter du code personnalisé ici qui redimensionnera la vue ou repositionnera les éléments HUD si nécessaire. Cette fonction est fournie comme un moyen pratique d&#39;éviter d&#39;avoir un code d&#39;événement d&#39;étape qui vérifie ces choses tout le temps. <br><br><div class="note"> <b>NOTE</b>: Vous ne pouvez pas dessiner dans cet événement! Il est déclenché en redimensionnant le canevas et sert uniquement à attraper cette modification... tout dessin qui doit être fait doit toujours être dans l&#39;un des autres événements de dessin. </div></div></blockquote><p><br></p></div><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Retour: <a href="../objects.html">L&#39;éditeur d&#39;objets</a> </div><div style="float:right"> Suivant: <a href=
"gesture_events.html">Événements de gestes</a> </div></div></div><h5> © Copyright <span class="notranslate">YoYo Games Ltd.</span> 2017 Tous droits réservés </h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>

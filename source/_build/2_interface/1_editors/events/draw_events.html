<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>Draw Events</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">

<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/2_interface/1_editors/events/draw_events.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F2_interface%2F1_editors%2Fevents%2Fdraw_events.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F2_interface%2F1_editors%2Fevents%2Fdraw_events.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! --><script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script><h2> Dessiner des événements </h2><div class="body-scroll"><p> L&#39; <b>événement de tirage</b> est celui qui régit ce que vous voyez à l&#39;écran lorsque vous lancez votre jeu. Il est divisé en plusieurs sous-événements distincts afin de mieux gérer les différentes exigences de tirage pour votre jeu. L&#39;image ci-dessous illustre l&#39;ordre dans lequel chaque événement est exécuté: <img class="center" src=
"images/editor_events_draworder.png" alt="Diagramme de dessin de l&#39;éditeur d&#39;objets"> L&#39;événement <b>Draw</b> normal se divise en trois types de sous-événements: les événements <b>Draw Begin</b>, <b>Draw</b> standard et <b>Draw End</b>. En général, vous ne devez utiliser que le sous-événement standard <b>Draw</b> et vous devez savoir que toutes les instances d&#39;une salle auront cet événement déclenché à chaque étape du jeu. Ce sous-événement sera donc <i>toujours appelé aussi longtemps que le Par exemple, l&#39;indicateur <b>visible est</b> défini sur true</i>. Même si vous n&#39;avez rien défini pour ce sous-événement dans les propriétés de l&#39;objet (c&#39;est-à-dire, pas de code ni d&#39;actions), si l&#39;objet a une image-objet assignée, il y aura <i>toujours</i> un sous-événement de dessin qui sera déclenché. En effet, <i><span class="notranslate">GameMaker Studio 2</span></i> dispose de deux manières de dessiner des éléments dans le sous-événement Draw: <br><br></p><ul><li> <b>le dessin par défaut</b>, qui correspond au moment où vous définissez l&#39;image-objet dans les propriétés de l&#39;objet et ne placez aucune action ni code dans le sous-événement <b>Draw</b> normal, auquel cas <i><span class="notranslate">GameMaker Studio 2</span></i> dessine cette image-objet. Notez que toutes les transformations que vous effectuez dans d&#39;autres événements pour changer l&#39;échelle, l&#39;index, le fondu, etc. de l&#39;image, seront également reflétées tant que l&#39;événement de dessin sera vide. <br><br></li><li> <b>le dessin personnalisé</b>, qui correspond au moment où vous placez du code ou des actions dans l&#39;événement draw. Cela <i><span class="notranslate">GameMaker Studio 2</span></i> à <i><span class="notranslate">GameMaker Studio 2</span></i> &quot;Je veux contrôler ce que vous dessinez pour les instances de cet objet&quot; et il remplace complètement le dessin par défaut. Cela signifie que, par exemple, vous pouvez attribuer un objet à une image-objet, puis définir l&#39;événement draw pour dessiner du texte. Cette image-objet ne sera pas dessinée car vous n&#39;avez pas demandé à <i><span class="notranslate">GameMaker Studio 2</span></i> de le dessiner avec le texte. <br></li></ul><p> Les autres événements du tirage au sort sont expliqués dans les sections énumérées ci-dessous: </p><blockquote><a name="draw_begin_end" id="draw_begin_end"></a> <label class="collapse" for="one">Dessiner commencer et dessiner fin</label> <input id="one" type="checkbox"><div class="index_list"> Outre le sous-événement principal <b>Draw</b>, vous avez également un sous-événement <b>Draw Begin</b> et <b>Draw End</b>. Celles-ci agissent exactement comme un sous-événement <b>Draw</b> standard (c&#39;est-à-dire: elles dessineront tout ce que vous y mettrez à chaque étape du jeu et pour toutes les vues), mais elles ne &quot;dessineront pas par défaut&quot;, si elles ne sont pas ajoutées à un objet, et ils seront toujours exécutés avant / après le sous-événement standard <b>Draw</b>. Ainsi, vous auriez l&#39;étape <b>Draw Begin</b> pour toutes les instances, puis <b>Draw</b> pour toutes les instances, puis finalement l&#39;étape <b>Draw End</b> pour toutes les instances. <br><br> De cette manière, vous pouvez dessiner des objets ou définir des propriétés de dessin dans l&#39;étape Draw Begin dans une instance et vous assurer que toutes les instances avec un événement Draw ou Draw End standard utiliseront ces propriétés ou dessineront sur ce que la première instance a dessinée. En gros, c’est un moyen sûr de garantir que certaines choses sont dessinées à certains moments, un peu comme les événements Begin Step et End Step. <br><br> Lorsque vous <i><span class="notranslate">GameMaker</span></i> éléments dans <i><span class="notranslate">GameMaker</span> Studio 2</i>, il convient de noter quelques points, qu&#39;il s&#39;agisse d&#39;un sprite que vous <i><span class="notranslate">GameMaker</span></i>, d&#39;un shader ou de la 3D: <br><br><ul><li> Le tirage au sort est un événement très intensif, en ce sens qu’il s’agit d’un des événements qui prend le plus de temps et de ressources… à cette fin, il n’est jamais une bonne idée de faire autre chose que de dessiner. Enregistrez donc votre code volumineux ou vos actions complexes pour l’événement Step, les alarmes ou tout autre événement qui convient, mais laissez l’événement draw clair pour le dessin, car c’est ce qu’il fait de mieux. <br><br></li><li> Si le paramètre visible de votre objet est désactivé (afin que ses occurrences ne soient pas dessinées), tous les événements de dessin sont ignorés (à l&#39;exception de l&#39;événement <b>Resize</b> ). Cela signifie que rendre une instance invisible <i>arrêtera l&#39;exécution de tout le code placé dans l&#39;un de ces événements</i>. Par conséquent, ne mettez pas de code essentiel dans les événements de dessin si ceux-ci ne sont pas visibles. <br><br></li><li> Ce que vous dessinez n&#39;a rien à voir avec le moteur de collision que vous choisissez (traditionnel ou physique), car il est défini par les propriétés de l&#39;objet et par le sprite (ou le masque) que l&#39;objet a été donné. <br></li></ul></div><br><a name="draw_GUI" id="draw_GUI"></a> <label class="collapse" for=
"two">Dessiner l&#39;interface graphique</label> <input id="two" type="checkbox"><div class="index_list"> Le type de sous-événement <b>Draw GUI</b> relève de la catégorie <b>Draw Event</b> et est spécialement conçu pour dessiner des éléments GUI (Graphical User Interface) qui ne sont pas affectés par l&#39;échelle ou la rotation de la vue. Cela signifie que vous pouvez faire en sorte qu&#39;une instance dessine tous les éléments de votre HUD sans avoir à baser leur positionnement sur la position de l&#39;instance dans la pièce ou la position de la vue actuelle. <br><br> Lorsque vous dessinez dans ces événements, il est important que vous sachiez que les coordonnées de dessin ne changent pas même lorsque les vues sont actives et que (0,0) est <i>toujours</i> le coin supérieur gauche de la surface d&#39;application ou de l&#39;écran (voir la note au bas de l&#39;écran). bas de cette section), et la largeur et la hauteur par défaut sont 1: 1 avec la surface d’application. L&#39;ordre des profondeurs est toujours maintenu entre différentes instances sur différentes couches (de sorte qu&#39;une instance d&#39;une couche inférieure dessine sous une d&#39;une couche supérieure) et également au sein des événements eux-mêmes, car le sous-événement <b>Draw GUI Begin</b> dessine d&#39;abord toutes les instances. l&#39; <b>interface graphique Draw</b> standard dessine alors toutes les occurrences, et finalement le sous-événement <b>Draw Gui End</b> est déclenché. <br><br> De cette manière, vous pouvez dessiner des objets ou définir des propriétés de dessin dans <b>Draw GUI Begin</b> dans une instance et vous assurer que toutes les instances avec une sous-événements <b>Draw GUI</b> ou <b>Draw GUI End</b> standard utiliseront ces propriétés ou dessineront les propriétés de la première instance. tiré. En gros, c’est un moyen sûr de garantir que certaines choses sont dessinées à certains moments, un peu comme le font les sous-événements <b>Begin Step</b> et <b>End Step</b>. <br><br> Ces événements peuvent également être utilisés en conjonction avec les sous-événements <b>Draw</b> normaux (qui seront affectés par la position, l&#39;échelle et la rotation de la vue, comme d&#39;habitude). Si vous n&#39;avez pas d&#39; <b>événement Draw</b> mais que vous avez un <b>événement Draw IHM</b>, <i><span class="notranslate">GameMaker Studio 2</span></i> dessine toujours par défaut l&#39;image-objet pour l&#39;occurrence (si elle en a un) comme d&#39;habitude. <br><br> En ce qui concerne les autres sous-événements <b>Draw</b>, les événements <b>Draw GUI</b> seront toujours dessinés par-dessus tout ce qui est dessiné dans les événements <b>Draw</b> normaux. Ainsi, si vous avez une instance sur une couche inférieure avec un événement <b>Draw IHM</b>, elle s’appuiera sur l’instance située sur une couche supérieure avec un événement <b>Draw</b> habituel. Si les deux instances ont un sous-événement <b>Draw GUI</b>, l&#39;ordre des couches sera respecté. <br><br><div class="note"> <b>REMARQUE</b>: par défaut, cet événement dessine 1: 1 avec la taille de la surface de l&#39;application, qui correspond normalement à la taille de la salle ou du port de visualisation. Cela signifie que lorsque l&#39; <a href=
"../../3_settings/game_options/index.html">option</a> <b>Correction du rapport d&#39;aspect est activée</b> dans les <a href=
"../../3_settings/game_options/index.html">options de jeu,</a> l&#39;interface graphique ne sera pas dessinée au-dessus des barres noires qui &quot;letterbox&quot; du jeu. Ce comportement peut être désactivé à l’aide de la touche <a href=
"../../../3_scripting/4_gml_reference/cameras%20and%20display/display/display_set_gui_maximise.html"><tt>display_set_gui_maximise</tt></a> fonction, et vous pouvez également verrouiller l&#39;événement GUI à une taille spécifique qui sera ensuite redimensionnée pour s&#39;adapter automatiquement aux dimensions de la surface d&#39;affichage ou d&#39;application à l&#39;aide de la fonction <a href=
"../../../3_scripting/4_gml_reference/cameras%20and%20display/display/display_set_gui_size.html"><tt>display_set_gui_size</tt></a>. </div></div><br><a name="draw_pre_post" id="draw_pre_post"></a> <label class=
"collapse" for="three">Avant et après le tirage</label> <input id="three"
type="checkbox"><div class="index_list"> Les sous-événements <b>Pre Draw</b> et <b>Post Draw</b> font partie de la catégorie <b>Evénement Draw</b>. Cependant, contrairement aux autres événements Draw, ceux-ci sont dessinés directement dans la mémoire tampon d&#39;écran, qui correspond à la taille de l&#39;espace d&#39;écran combiné pour toutes les vues actuellement visibles ou à la taille de la fenêtre si vous n&#39;utilisez qu&#39;une seule vue ou aucune. L&#39;image ci-dessous illustre ceci: <img class=
"center" src="images/editor_object_postdraw.png" alt="Éditeur d&#39;objet Post Draw"> Ainsi, si vous utilisez les événements <b>Pre</b> ou <b>Post</b> Draw, vous dessinez sur la cible de rendu plein écran qui aura la même taille que la fenêtre dans laquelle toutes les vues sont conçues. Si vous n&#39;avez pas de vues actives, la taille de la fenêtre est définie à la place. <br><br> Le sous-événement <b>Pre Draw</b> est déclenché avant tout autre événement <b>Draw</b>. Vous pouvez y définir des valeurs, définir des propriétés de dessin et même dessiner des éléments sans se soucier des vues ou de la taille de la couche d&#39;interface graphique (la taille de la couche d&#39;interface graphique peut être identique). comme tampon d’écran, mais ce n’est peut-être pas le cas puisque vous pouvez définir la résolution de l’interface graphique dans le code) <br><br> Il est à noter que cet événement se produit avant que le tampon d&#39;écran ne soit effacé, ce qui signifie que si vous ne désactivez pas l&#39;effacement des vues dans l&#39;éditeur de salle, vous ne verrez rien dessiné dans l&#39;événement <b>Pre Draw</b>, car la première vue l&#39;effacera. Si vous voulez pouvoir voir à travers les vues elles-mêmes ou si vous n&#39;utilisez pas de vues du tout, vous devez également avoir défini la couleur d&#39;arrière-plan pour avoir un alpha de 0 dans l&#39; <a href="../rooms.html">éditeur de salle</a>. <br><br><div class="note"> <b>REMARQUE:</b> Si vous désactivez ces options, vous remarquerez peut-être que des artefacts indésirables sont dessinés à l&#39;écran lors du test du jeu (par exemple, des &quot;traces&quot; d&#39;instances). En effet, vous dessinez directement sur la dernière image du tampon de dessin sans l’effacer. Cependant, vous pouvez utiliser <a href=
"../../../3_scripting/4_gml_reference/drawing/colour/draw_clear_alpha.html"><tt>draw_clear_alpha</tt></a> faire cela vous-même. </div><br> Le sous-événement <b>Post Draw</b> est déclenché après les événements Draw classiques, mais avant les événements Draw IHM. Comme l’événement Pre Draw, il est basé sur la taille de la taille de la mémoire tampon d’écran et est placé avant les événements Draw Draw IHM pour vous permettre d’effectuer des effets de post-traitement et d’autres choses en plein écran, simplement et facilement, sans interférer avec les modifications. Éléments HUD / GUI que vous pouvez avoir dans votre jeu. </div><br><a name="draw_resize" id="draw_resize"></a> <label class="collapse"
for="four">Redimensionner la fenêtre</label> <input id="four" type="checkbox"><div class="index_list"> Ce type d’événement appartient à la catégorie <b>Dessiner un événement</b> et, bien qu’il ne dessine rien, il réagit aux modifications apportées au canevas du dessin. En particulier, il est conçu pour réagir au changement de taille du canevas UWP lorsque la fenêtre de jeu est &quot;cassé&quot;. <br><br> Sur la plate-forme cible UWP, il est important de capturer tout redimensionnement de la trame du jeu à partir du &quot;cliché&quot; de la fenêtre du jeu (lorsque l&#39;utilisateur fait glisser la fenêtre sur le côté de l&#39;écran, par exemple). Cet événement fera exactement cela et est déclenché chaque fois que le canevas est modifié, vous permettant d&#39;ajouter ici un code personnalisé qui redimensionnera la vue ou repositionnera les éléments de la palette si nécessaire. Cette fonction est un moyen pratique d’éviter d’avoir un code d’événement d’étape qui vérifie ces éléments tout le temps. <br><br><div class="note"> <b>NOTE</b>: Vous ne pouvez pas dessiner dans cet événement! Il est déclenché par le redimensionnement du canevas et sert uniquement à prendre en compte ce changement... tout dessin qui doit être effectué doit toujours figurer dans l&#39;un des autres événements de dessin. </div></div></blockquote><p><br></p></div><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Retour: <a href="../objects.html">L&#39;éditeur d&#39;objets</a> </div><div style="float:right"> Suivant: <a href=
"gesture_events.html">Événements de gestes</a> </div></div></div><h5>© Copyright YoYo Games Ltd. 2018 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>

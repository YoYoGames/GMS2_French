<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>If Collision Shape</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">

<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/2_drag_and_drop_reference/collision_actions/if_collision_shape.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F2_drag_and_drop_reference%2Fcollision_actions%2Fif_collision_shape.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F2_drag_and_drop_reference%2Fcollision_actions%2Fif_collision_shape.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! --><script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script><h2><img style="vertical-align:middle" src=
"images/i_collision_shape.png"> Si forme de collision </h2><div class="body-scroll"><p><br></p><h3> La description </h3><blockquote><p> Cette action est utilisée pour vérifier s&#39;il existe une collision avec une instance d&#39;un objet donné dans une zone de forme donnée ou le long d&#39;une ligne. Vous donnez la forme (rectangle, ellipse ou ligne), l’objet à vérifier, puis vous fournissez les coordonnées des coins supérieur gauche et inférieur droit de la forme utilisée ou, dans le cas d’une ligne, le début et la fin. positions finales. Il peut s&#39;agir de positions absolues dans la salle de jeux ou de positions relatives à l&#39;instance réalisant l&#39;action. Vous pouvez voir comment cela fonctionne dans l&#39;image ci-dessous: <img class="center" src=
"images/collision_shape_example.png" alt="Exemple d&#39;image de forme de collision"></p><p> Comme vous pouvez le constater, les résultats dépendent du masque de collision de l’instance recherchée, ce qui signifie que l’instance de l’objet que vous recherchez <i>doit</i> avoir un sprite attribué à la <tt>sprite_index</tt>, ou un sprite assigné à la <tt>mask_index</tt>. Si ce n&#39;est pas le cas, ces fonctions ne le détecteront pas, qu&#39;il s&#39;agisse ou non de dessiner un sprite. Il est à noter que toute instance tombant complètement dans les limites définies pour la forme d&#39;ellipse ou de rectangle renverra également une collision. L&#39;action évaluera à <tt>true</tt> si une collision est détectée, ou <tt>false</tt> sinon, vous pouvez également cocher le drapeau <b>Non</b> pour vérifier s’il n’ya <i>pas</i> collision avec la zone mise en forme donnée et l’action n’est alors évaluée que comme <tt>true</tt> si <i>aucune</i> collision n&#39;est trouvée, sinon elle sera évaluée comme <tt>false</tt>. Vous pouvez également définir l&#39;option <b>Exclude Self</b> pour exclure l&#39;instance appelante de la vérification de collision. </p><p> Ensuite, vous pouvez cocher / décocher l&#39;option de <b>retourner la liste</b>. En cochant cette case, l&#39;action crée et remplit une structure de données de <a href=
"../data_structure_actions/index.html">liste</a> avec <i>toutes les</i> instances en conflit avec la forme et définit la variable <b>Target</b> sur l&#39;ID de liste DS. Si cette case n&#39;est pas cochée, la variable <b>cible</b> ne sera définie que sur une valeur inférieure à 0 si aucune collision n&#39;est détectée, ou sur la valeur d&#39;ID unique de l&#39; <i>une</i> des instances de la collision (notez que si plusieurs instances sont en conflit, vous n&#39;avez aucun moyen de savoir quel identifiant d’instance sera renvoyé s’il n’utilise pas de liste). </p><p> Si vous avez choisi de renvoyer une liste (et que la variable cible n&#39;est <i>pas</i> définie sur <b>Temp)</b>, vous pouvez également sélectionner l&#39;option <b>Cible libre</b>. Lorsqu&#39;il est réglé sur <tt>true</tt>, la liste contenue dans la variable cible sera détruite et une nouvelle liste créée (et renvoyée à la variable cible) chaque fois que vous appelez l&#39;action. De cette façon, vous pouvez réutiliser la même variable sans vous soucier des fuites de mémoire, car si vous ne cochez <i>pas</i> <b>l&#39;</b> option <b>Cible libre</b>, vous êtes responsable de la destruction de la liste avant de réutiliser la variable dans l&#39;action. Notez que <i>que</i> cette option soit cochée ou non, si vous avez défini l’action sur <b>Renvoyer la liste</b>, la variable cible contiendra <i>toujours un ID de liste</i>, qui devra donc être libéré lorsque l’instance sera détruite ou la salle se termine (vous pouvez utiliser pour cela l’événement <b>Nettoyer</b>, par exemple, avec l’action <a href=
"../data_structure_actions/free_data_structure.html">Structure de données libre</a> ). Il est à noter que vous pouvez définir l&#39;option <b>Cible libre</b> pour utiliser une variable prédéfinie ou une expression et ainsi contrôler le moment où la structure de données de liste est libérée en définissant la variable ailleurs (ou en obtenant des résultats différents pour l&#39;expression), à condition que évalue à <tt>true</tt> / <tt>false</tt>. </p><p> Enfin, vous fournissez la variable <b>cible dans</b> laquelle vous souhaitez conserver la valeur renvoyée ou l&#39;ID de liste. Si vous marquez la variable cible devant contenir la valeur renvoyée comme étant une variable <b>temporaire</b> (locale), l&#39;action créera cette variable pour contenir la valeur renvoyée <i>uniquement</i> jusqu&#39;à la fin de l&#39;événement. Dans ce cas, l&#39;option Cible libre ne fait rien et vous serez responsable de la destruction de la liste DS si cette option a été cochée. Si aucune variable cible n&#39;est fournie et que l&#39;option <b>Liste de retour</b> est cochée, aucune liste ne sera créée. </p><div class="note"> <b>IMPORTANT!</b> Les collisions ne s’enregistreront que pour les instances ayant un masque de collision valide, c’est-à-dire qu’un sprite est attribué à la <tt>sprite_index</tt>, ou un sprite assigné à la <tt>mask_index</tt>. Si les occurrences de l&#39;objet à vérifier dans cette action n&#39;ont pas de masque de collision, la collision ne sera pas détectée, quel que soit l&#39;instance dessinée à ce moment-là. </div><p><br> Notez que pour ajouter des actions dans un bloc &quot;if&quot;, elles doivent être laissées sur le <i>côté</i> de l&#39;action, comme indiqué dans l&#39;image ci-dessous: <img class="center" src="images/if_collision_shape.png" alt="Si exemple de forme de collision"></p></blockquote><p><br></p><h3> Syntaxe d&#39;action: </h3><img class="center" src="images/a_collision_shape.png" alt="Si forme de collision à la syntaxe"><p><br></p><h3> Arguments: </h3><blockquote><table><tr><th> Argument </th><th> La description </th></tr><tr><td> <span class="notranslate">Shape</span> </td> <td> La forme à utiliser </td></tr><tr class="alt"><td> <span class="notranslate">Object</span> </td> <td> L&#39;objet à vérifier pour les instances de </td></tr><tr><td> <span class="notranslate">x1</span> </td> <td> La position x à partir de </td></tr><tr class="alt"><td> <span class="notranslate">y1</span> </td> <td> La position y à partir de </td></tr><tr><td> <span class="notranslate">x2</span> </td> <td> La position x se terminant à </td></tr><tr class="alt"><td> <span class="notranslate">y2</span> </td> <td> La position y se termine à </td></tr><tr><td> <span class="notranslate">Free Target</span> </td> <td> Peut être défini sur une variable ou une expression, ou sur <tt>true</tt> / <tt>false</tt> contrôler la libération de la liste mémoire lors de la réutilisation d&#39;une variable liste </td></tr><tr class="alt"><td> <span class="notranslate">Target</span> </td> <td> La variable à cibler pour la valeur de retour de l&#39;action </td></tr></table></blockquote><p><br></p><h3> Exemple: </h3><img class="center" src="images/e_collision_shape.png" alt="Si exemple de forme de collision"><blockquote> Le code de bloc d&#39;action ci-dessus recherche une éventuelle collision avec les instances de l&#39;objet &quot;obj_Enemy&quot; dans un cercle de 100 pixels autour de la position des instances appelantes. L&#39;action génère une liste de toutes les instances trouvées en conflit et stocke l&#39;ID de liste dans la variable cible. Si l&#39;action est évaluée à <tt>true</tt> la liste est ensuite bouclée et chaque instance dont l&#39;ID est stocké dans la liste a sa variable &quot;hp&quot; réduite de 1. La liste DS est alors libérée. </blockquote><p><br></p></div><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Retour: <a href="index.html">actions de collision</a> </div><div style="float:right"> next: <a href="if_collision_point.html">Si Point de collision</a> </div></div></div><h5>© Copyright YoYo Games Ltd. 2018 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>

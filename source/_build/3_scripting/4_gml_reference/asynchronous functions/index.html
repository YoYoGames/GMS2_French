<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>Asynchronous Functions</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/asynchronous functions/index.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fasynchronous%20functions%2Findex.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fasynchronous%20functions%2Findex.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! --><script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script><h2> Fonctions asynchrones </h2><div class="body-scroll"><p><br></p><p> Avant de traiter les fonctions asynchrones (appelées désormais fonctions <i>asynchrones</i> ) dans <i><span class="notranslate">GameMaker Studio 2</span></i> il se peut que vous vous demandiez ce que le mot &quot;asynchrone&quot; signifie réellement! Eh bien, la définition du dictionnaire actuel de asynchrone est: </p><blockquote> <i>&quot;se rapportant à une technique de transmission qui ne nécessite pas une horloge commune entre les dispositifs de communication, les signaux de synchronisation sont dérivés de caractères spéciaux dans le flux de données lui-même.&quot;</i> </blockquote><p> Dans le contexte de <i><span class="notranslate">GameMaker Studio 2</span></i>, une fonction asynchrone est une fonction qui envoie à un serveur Web, ou qui demande une entrée utilisateur, ou même des données de flux, tout en laissant <i><span class="notranslate">GameMaker Studio 2</span></i> continuer à fonctionner sans bloquer. Lorsque le rappel d&#39;informations est reçu, un <b>événement asynchrone</b> spécial est déclenché qui, à son tour, permet à toute instance avec un événement asynchrone assigné d&#39;exécuter d&#39;autres fonctions (bien que cela ne soit pas nécessairement le cas). Donc, fondamentalement, c&#39;est un moyen de communiquer avec une ressource externe (serveur, utilisateur ou périphérique) sans bloquer le jeu ou le projet en attendant une réponse. </p><p> Pourquoi est-ce important? Eh bien, puisqu&#39;il permet à <i><span class="notranslate">GameMaker Studio</span> 2</i> de continuer à fonctionner pendant l&#39;envoi ou la réception de données, et cela signifie que vous pouvez faire beaucoup de choses sans bloquer la boucle de jeu comme - </p><blockquote><ul><li> diffuser des données de l&#39;appareil dans votre jeu sans que le joueur n&#39;attende que les choses se chargent </li><li> avoir des événements de rappel pour faire les choses seulement quand les informations correctes sont reçues </li><li> communiquer et échanger des données avec un serveur Web </li></ul></blockquote><p> Tout cela fait fonctionner tout de manière beaucoup plus fluide et discrète. Il convient de noter que les événements asynchrones seront déclenchés pour toutes les instances qui en ont, de sorte que vous pouvez utiliser une fonction asynchrone dans une instance, et avoir l&#39;événement asynchrone qui traite la réponse dans un autre, ou même plusieurs autres. Vous pouvez aller ici pour plus d&#39;informations sur le fonctionnement de l&#39;événement <a href=
"../../../2_interface/1_editors/events/async_events.html">Asynchrone</a> - <a href=
"../../../2_interface/1_editors/events/async_events.html">Événements asynchrones</a>. </p><p> Les différents types de fonctions asynchrones sont listés dans les sections ci-dessous: </p><blockquote><a name="async_http" id="async_http"></a> <label class=
"collapse" for="one">HTTP</label> <input id="one" type="checkbox"><div class="index_list"><p> Vous trouverez ci-dessous une liste des fonctions HTTP Async disponibles dans <i><span class="notranslate">GameMaker Studio 2</span></i>: </p><ul><li> <a href="http_request.html">http_request</a> </li><li> <a href="http_get.html">http_get</a> </li><li> <a href="http_get_file.html">http_get_file</a> </li><li> <a href="http_post_string.html">http_post_string</a> </li></ul><p> Veuillez noter que les fonctions http_ ci-dessus peuvent ne pas fonctionner comme prévu en raison de problèmes de sécurité inter-domaines. Cela signifie que les demandes à votre serveur ou les tentatives de chargement de ressources à partir de plusieurs domaines sont bloquées et peuvent renvoyer des résultats vierges ou des erreurs 404. Une des façons de contourner ce problème est d&#39;avoir du côté serveur PHP qui permet à certains domaines d&#39;accéder à votre serveur (c&#39;est aussi un moyen de protéger vos ressources et de bloquer les serveurs qui ne sont pas inclus dans la liste des autorisations PHP). </p><p> Voici un exemple du code que vous pouvez utiliser pour cela: </p><p class="code">$http_origin = $_SERVER['HTTP_ORIGIN'];<br>
if ($http_origin == "http://127.0.0.1:51268")<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;header('Access-Control-Allow-Origin: *');<br>
&nbsp;&nbsp;&nbsp;}<br><span class="notranslate"></span></p></div><br><a name="async_dialogue" id="async_dialogue"></a> <label class=
"collapse" for="two">Dialogue</label> <input id="two" type=
"checkbox"><div class="index_list"><p> Les versions précédentes de <i><span class="notranslate">GameMaker</span></i> comportaient des dialogues contextuels qui bloquaient le coureur en attendant une réponse de l&#39;utilisateur. Cependant, la plupart des appareils modernes n&#39;aiment pas cela et interpréteront l&#39;arrêt du coureur comme une erreur et fermeront l&#39;application. Pour éviter cela, <i><span class="notranslate">GameMaker Studio 2</span></i> possède des équivalents asynchrones de ces fonctions qui remplissent le même objectif que les versions précédentes, mais ne bloque pas le coureur à tout moment, ce qui signifie que le jeu fonctionnera normalement en arrière-plan pendant que l&#39;utilisateur répond à le dialogue affiché. Une fois que l&#39;utilisateur a répondu, un <a href=
"../../../2_interface/1_editors/events/async_events.html">événement asynchrone dialogues</a> sera appelé afin que vous puissiez gérer les résultats. </p><p> Voici une liste de toutes les fonctions de dialogue asynchrones disponibles: </p><ul><li> <a href="get_login_async.html">get_login_async</a> </li><li> <a href="show_message_async.html">show_message_async</a> </li><li> <a href="show_question_async.html">show_question_async</a> </li><li> <a href="get_string_async.html">get_string_async</a> </li><li> <a href="get_integer_async.html">get_integer_async</a> </li></ul></div><br><a name="async_http" id="async_http"></a> <label class="collapse"
for="three">Nuage</label> <input id="three" type="checkbox"><div class="index_list"><p> Lorsque vous créez des jeux, il est souvent nécessaire de stocker des informations sur l&#39;état du jeu dans un fichier quelconque, mais stocker ces informations sur l&#39;appareil n&#39;est pas toujours la meilleure option car, si le joueur supprime le jeu puis réinstalle, l&#39;information peut être perdue. Pour éviter cela, vous pouvez utiliser différents <b>services de cloud</b>, qui offrent un stockage de données sur Internet pour la récupération et la modification à tout moment. Vous devriez noter que cette fonction est limitée à <b>un</b> seul &quot;blob&quot; de données par jeu, donc chaque fois que vous envoyez une nouvelle sauvegarde au service cloud, qu&#39;il s&#39;agisse d&#39;une chaîne ou d&#39;un fichier, il écrasera toutes les données précédemment stockées. </p><p> <i><span class="notranslate">GameMaker Studio 2</span></i> prend en charge cette fonction avec quelques fonctions simples qui fonctionnent conjointement avec l&#39; <a href=
"../../../2_interface/1_editors/events/async_events.html">événement Cloud asynchrone</a>. Ces fonctions sont expliquées dans les pages suivantes: </p><ul><li> <a href="cloud_synchronise.html">cloud_synchronise</a> </li><li> <a href="cloud_string_save.html">cloud_string_save</a> </li><li> <a href="cloud_file_save.html">cloud_file_save</a> </li></ul><div class="note"> <b>REMARQUE:</b> Actuellement, seule l&#39;extension <a href=
"https://marketplace.yoyogames.com/assets/2008/google-play-services"
target="_blank">Google Services</a> sur <b><span class="notranslate">Android</span></b> utilise ces fonctions et cette extension doit être présente avant de pouvoir les appeler. </div></div><br><a name="async_push" id="async_push"></a> <label class="collapse"
for="four">Notifications push</label> <input id="four" type=
"checkbox"><div class="index_list"><p> Sur les appareils mobiles, normalement une seule application peut être active au premier plan à tout moment, mais de nombreux jeux et applications fonctionnent dans un environnement temporel ou interconnecté où des événements présentant un intérêt pour les utilisateurs peuvent survenir lorsque l&#39;application n&#39;est <i>pas</i> au premier plan. Dans ces cas, <b>les</b> notifications push <b>locales</b> et <b>distantes</b> peuvent permettre à ces jeux d&#39;informer leurs utilisateurs lorsque des événements se produisent. </p><p> Lorsque le système d&#39;exploitation envoie une notification push locale ou distante et que l&#39;application cible ne s&#39;exécute pas au premier plan, elle présente la notification à l&#39;utilisateur sous la forme d&#39;une bannière. S&#39;il y a une alerte de notification et que l&#39;utilisateur appuie dessus, le jeu est lancé et un <a href=
"../../../2_interface/1_editors/events/async_events.html">événement de poussée asynchrone</a> est appelé où vous pouvez vérifier la chaîne de rappel que vous spécifiez et résoudre le push en fonction de sa valeur. Si l&#39;application s&#39;exécute au premier plan lors de la remise de la notification, l&#39;application recevra toujours un événement de poussée asynchrone, mais l&#39;utilisateur ne recevra aucun message à moins que vous ne le créiez vous-même. </p><p> Il y a quelques différences à noter entre les plateformes supportées: </p><ul><li> Sur <span class="notranslate">Android</span>, <i>toutes les</i> notifications reçues lorsque l&#39;application n&#39;est pas en cours d&#39;exécution / en arrière-plan, seront stockées et les données fournies par l&#39;événement asynchrone la prochaine fois que l&#39;application s&#39;exécutera et vous devrez activer les notifications push dans les <a href=
"../../../2_interface/3_settings/game_options/options_android.html">Options de jeu <span class="notranslate">Android</span></a> travail. <br><br></li><li> Sur iOS, les données d&#39;une notification particulière ne sont transmises que lorsque la notification est sélectionnée (ou si l&#39;application s&#39;exécute en premier plan lors de la réception de la notification) et que vous devez activer les notifications push dans les <a href=
"../../../2_interface/3_settings/game_options/options_ios.html">Options de jeu iOS</a>. <br><br></li></ul><blockquote><a name="async_push_local" id="async_push_local"></a> <label class="collapse" for="a">Notifications locales</label> <input id="a" type="checkbox"><div class="index_list"><p> Une notification push locale est locale au périphérique sur lequel le jeu est installé et ne nécessite aucun serveur principal. Vous définissez simplement la date et l&#39;heure de la notification et celle-ci sera affichée à l&#39;utilisateur si le jeu n&#39;est pas en cours d&#39;exécution. Ce type de notification est utile pour configurer des «rappels» pour que l&#39;utilisateur rejoue votre jeu, ou pour offrir une récompense quotidienne pour jouer, etc... et quand l&#39;utilisateur clique sur la notification, il lance le jeu et transmet une donnée chaîne qui peut ensuite être analysée par le jeu pour donner une récompense ou autre chose. </p><p> Les fonctions suivantes sont disponibles pour les notifications locales: </p><ul><li> <a href=
"push_local_notification.html">push_local_notification</a> </li><li> <a href=
"push_get_first_local_notification.html">push_get_first_local_notification</a> </li><li> <a href=
"push_get_next_local_notification.html">push_get_next_local_notification</a> </li><li> <a href=
"push_cancel_local_notification.html">push_cancel_local_notification</a> </li></ul><div class="note"> <b>REMARQUE</b>: cette fonctionnalité est limitée aux modules cibles <b>iOS</b> et <b><span class="notranslate">Android</span></b>. Pour <b><span class="notranslate">Android</span></b> vous devez avoir installé l&#39; <a href=
"https://marketplace.yoyogames.com/assets/2008/google-play-services"
target="_blank">extension Google Play Services</a> et activé les notifications push dans les <a href=
"../../../2_interface/3_settings/game_options/options_android.html">options de jeu social <span class="notranslate">Android</span></a>. </div></div><br><a name="async_push_remote" id="async_push_remote"></a> <label class="collapse" for="b">Notifications à distance</label> <input id="b" type="checkbox"><div class="index_list"><p> Les messages de notification à distance sont envoyés par un serveur à un service fourni par la plate-forme de l&#39;appareil App Store, puis ces messages sont transmis sur tous les périphériques sur lesquels votre application est installée. Ceci est pris en charge par <i><span class="notranslate">GameMaker Studio 2</span></i> sur les modules cibles iOS et <span class="notranslate">Android</span>. </p><p> <i><span class="notranslate">GameMaker Studio 2</span></i> ne dispose d&#39;aucune fonction pour traiter les notifications à distance, car elles doivent toutes être générées par votre serveur et gérées par les App Stores respectifs. Cependant, une fois correctement <i><span class="notranslate">GameMaker Studio 2</span></i>, les <i><span class="notranslate">GameMaker Studio 2</span></i> recevront ces notifications, qui pourront ensuite être traitées dans l&#39; <a href=
"../../../2_interface/1_editors/events/async_events.html">événement de poussée asynchrone</a>, comme vous le feriez pour une notification locale. </p><p> Pour toutes les plateformes disponibles, une fois que vous avez effectué la configuration nécessaire, lorsque le jeu est exécuté sur un périphérique, il <b>enregistre</b> ce périphérique auprès du service de notification push des plates-formes. Cela déclenchera un <b>événement de notification push asynchrone</b>, et le <tt>ds_map</tt> la clé &quot; <i>type</i> &quot; aura la valeur &quot; <i>register</i> &quot; ainsi qu&#39;une nouvelle clé, &quot; <i>reg_id</i> &quot;, contenant l&#39; <b>identifiant d&#39;enregistrement</b> (ou un message d&#39;erreur dans la clé &quot; <i>error</i> &quot;, si &quot; <i>status</i> &quot; est 0). Vous devez ensuite envoyer cet identifiant d&#39;enregistrement à votre serveur, et chaque périphérique sur lequel votre jeu est installé aura un identifiant d&#39;enregistrement différent. Votre serveur <i>doit gérer une liste d&#39;identifiants pour les périphériques enregistrés</i>, par exemple lorsque vous envoyez un message de notification push depuis votre serveur, vous utilisez les ID d&#39;enregistrement pour envoyer le message aux périphériques enregistrés. </p><p> Veuillez noter qu&#39;il n&#39;y a aucune garantie que les notifications push à distance seront livrées, et que la charge de données autorisée est relativement faible. Cela varie d&#39;une plateforme à l&#39;autre, mais iOS est particulièrement limité - le service Apple fournit uniquement la notification la plus récente, qui doit être sélectionnée par le destinataire pour que les données utiles soient transmises à votre événement asynchrone. Ces notifications ont une taille maximale de 256 octets. Généralement, une notification push à distance indique simplement que de nouvelles données sont disponibles sur votre serveur par exemple. </p><div class="note"> <b>REMARQUE</b>: <span class="notranslate">Android</span> nécessite que vous ajoutiez l&#39; <b>ID de l&#39;expéditeur GCM</b> dans les <a href=
"../../../2_interface/3_settings/game_options/options_android.html">options de jeu <span class="notranslate">Android</span></a>. Il s&#39;agit du <b>numéro de projet</b> attribué lorsque vous créez votre projet d&#39;API Google Play. </div><p> Pour plus d&#39;informations sur la configuration d&#39;un serveur, ainsi que des informations spécifiques aux plates-formes disponibles, consultez les pages suivantes de la <a href=
"http://help.yoyogames.com/forums" target="_blank">base de connaissances <span class="notranslate">YoYo Games</span></a>: </p><ul><li> <a href="http://help.yoyogames.com/entries/28184776" target=
"_blank"><span class="list_link">Notifications Push - <span class="notranslate">Android</span></span></a> </li><li> <a href="http://help.yoyogames.com/entries/27695268" target=
"_blank"><span class="list_link">Notifications Push - iOS</span></a> </li></ul><div class="note"> <b>REMARQUE</b>: L&#39;implémentation du côté serveur dépend entièrement de l&#39;utilisateur final, et <span class="notranslate">YoYo Games</span> ne fournit aucun support pour ce côté des choses, à part les informations de configuration de base disponibles dans sa base de connaissances. </div></div></blockquote></div><br><a name="async_social" id="async_social"></a> <label class=
"collapse" for="five">Social (Facebook / Classements)</label> <input id="five" type="checkbox"><div class="index_list"><p> Comme les plates-formes mobiles se développent et prennent plus de part de marché de jeu, ainsi à la demande pour l&#39;interaction sociale et la rétroaction de ces jeux. Pour répondre à ces exigences, <i><span class="notranslate">GameMaker</span> Studio 2</i> intègre certaines API tierces qui vous permettent de communiquer avec différents réseaux en fonction de l&#39;appareil que vous ciblez pour votre jeu. </p><p> Les sections suivantes contiennent des informations sur l&#39;intégration des médias sociaux disponibles: </p><blockquote><ol><li> <a href="facebook/index.html"><span class=
"list_link">Facebook</span></a> </li><li> <a href=
"achievements%20and%20leaderboards/index.html"><span class=
"list_link">Réalisations et classements</span></a> </li></ol></blockquote><p> Il y a aussi une fonction asynchrone qui va ouvrir un dialogue et vous permettre de demander qu&#39;un utilisateur de votre jeu laisse un commentaire ou une note sur une page web spécifique: </p><ul><li> <a href="shop_leave_rating.html">shop_leave_rating</a> </li></ul></div><br></blockquote><p><br></p></div><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Retour: <a href=
"../index.html">Référence</a> </div><div style="float:right"> Suivant: <a href=
"../networking/index.html">Réseau</a> </div></div></div><h5> © Copyright <span class="notranslate">YoYo Games Ltd.</span> 2017 Tous droits réservés </h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>

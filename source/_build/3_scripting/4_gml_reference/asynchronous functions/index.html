<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>Asynchronous Functions</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/asynchronous functions/index.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fasynchronous%20functions%2Findex.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fasynchronous%20functions%2Findex.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! --><script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script><h2> Fonctions asynchrones </h2><div class="body-scroll"><p><br></p><p> Avant de traiter des fonctions asynchrones (appelées désormais fonctions <i>asynchrones</i> ) dans <i><span class="notranslate">GameMaker Studio 2</span></i> il se peut que vous vous demandiez ce que le mot &quot;asynchrone&quot; signifie réellement! Eh bien, la définition actuelle du dictionnaire asynchrone est la suivante: </p><blockquote> <i>&quot;se rapportant à une technique de transmission ne nécessitant pas d&#39;horloge commune entre les dispositifs communicants; les signaux de synchronisation sont dérivés de caractères spéciaux contenus dans le flux de données lui-même.&quot;</i> </blockquote><p> Dans le contexte de <i><span class="notranslate">GameMaker Studio 2</span></i>, une fonction asynchrone est une fonction qui envoie à un serveur Web, demande à l&#39;utilisateur d&#39;entrer ou même <i><span class="notranslate">GameMaker Studio 2</span></i> données, tout en laissant <i><span class="notranslate">GameMaker Studio 2</span></i> continuer à s&#39;exécuter sans blocage. Lorsque le rappel d&#39;informations est reçu, un <b>événement Async</b> spécial est déclenché, ce qui permet à toute instance à laquelle un événement Async lui est attribué d&#39;exécuter d&#39;autres fonctions (bien que ce ne soit pas nécessairement le cas). Donc, en gros, c&#39;est un moyen de communiquer avec une ressource externe (serveur, utilisateur ou appareil) sans que le jeu ou le projet ne se bloque pendant l&#39;attente d&#39;une réponse. </p><p> Pourquoi est-ce important? Cela permet à <i><span class="notranslate">GameMaker Studio</span> 2</i> de continuer à fonctionner tout en envoyant ou en recevant des données, ce qui signifie que vous pouvez faire beaucoup de choses sans bloquer la boucle du jeu, comme par exemple: </p><blockquote><ul><li> diffuser les données de l&#39;appareil dans votre jeu sans que le joueur attende que les choses se chargent </li><li> avoir des événements de rappel pour faire les choses seulement quand l&#39;information correcte est reçue </li><li> communiquer et échanger des données avec un serveur Web </li></ul></blockquote><p> Tout cela fait que tout fonctionne de manière beaucoup plus fluide et discrète. Il convient de noter que les événements asynchrones seront déclenchés pour toutes les instances qui les possèdent. Vous pouvez donc utiliser une fonction asynchrone dans une instance et disposer de l&#39;événement asynchrone qui traite de la réponse dans une autre ou même plusieurs autres. Vous pouvez aller ici pour plus d&#39;informations sur le fonctionnement de l&#39;événement <a href=
"../../../2_interface/1_editors/events/async_events.html">asynchrone</a> - <a href=
"../../../2_interface/1_editors/events/async_events.html">Événements asynchrones</a>. </p><p> Les différents types de fonctions asynchrones sont répertoriés dans les sections suivantes: </p><blockquote><a name="async_http" id="async_http"></a> <label class=
"collapse" for="one">HTTP</label> <input id="one" type="checkbox"><div class="index_list"><p> Vous trouverez ci-dessous une liste des fonctions HTTP Async disponibles dans <i><span class="notranslate">GameMaker Studio 2</span></i>: </p><ul><li> <a href="http_request.html">http_request</a> </li><li> <a href="http_get.html">http_get</a> </li><li> <a href="http_get_file.html">http_get_file</a> </li><li> <a href="http_post_string.html">http_post_string</a> </li></ul><p> Veuillez noter que les fonctions http_ ci-dessus peuvent ne pas fonctionner comme prévu en raison de problèmes de sécurité interdomaines. Cela signifie que les demandes adressées à votre serveur ou les tentatives de chargement de ressources de plusieurs domaines sont bloquées et peuvent sembler renvoyer des résultats vierges ou des erreurs 404. L’un des moyens de contourner ce problème est d’avoir un serveur PHP PHP permettant à certains domaines d’accéder à votre serveur (c’est aussi un moyen de protéger vos ressources et de bloquer les serveurs qui ne figurent pas dans la liste d’autorisations PHP). </p><p> Voici un exemple de code que vous pouvez utiliser pour cela: </p><p class="code">$http_origin = $_SERVER['HTTP_ORIGIN'];<br>
if ($http_origin == "http://127.0.0.1:51268")<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;header('Access-Control-Allow-Origin: *');<br>
&nbsp;&nbsp;&nbsp;}<br><span class="notranslate"></span></p><p> Pour les demandes de chargement d&#39;images pour lesquelles il est important de déterminer ou de définir leur type d&#39;origine croisée, les fonctions suivantes existent: </p><ul><li> <a href=
"http_get_request_crossorigin.html">http_get_request_crossorigin</a> </li><li> <a href=
"http_set_request_crossorigin.html">http_set_request_crossorigin</a> </li></ul><p> Dans la plupart des cas, ces fonctions ne devraient pas être utilisées, mais si le jeu est stocké sur un serveur sécurisé - l&#39;accès à certains actifs peut nécessiter une authentification de base et générer des erreurs de sécurité lors du chargement - définition du type d&#39;origine croisée pour les requêtes d&#39;image &quot;use-credentials&quot; peut être nécessaire (par opposition au paramètre par défaut &quot;anonymous&quot;). </p></div><br><a name="async_dialogue" id="async_dialogue"></a> <label class=
"collapse" for="two">Dialogue</label> <input id="two" type=
"checkbox"><div class="index_list"><p> Les versions précédentes de <i><span class="notranslate">GameMaker</span></i> avaient des dialogues contextuels qui bloquaient le coureur en attendant une réponse de l&#39;utilisateur. Cependant, la plupart des appareils modernes n&#39;aiment pas cela et interpréteront l&#39;arrêt du coureur comme une erreur et fermeront l&#39;application. Pour éviter cela, <i><span class="notranslate">GameMaker Studio 2</span></i> a des équivalents asynchrones de ces fonctions qui remplissent le même objectif que les versions précédentes, mais ne bloquent le coureur de jeu à aucun moment, ce qui signifie que lorsqu&#39;il est appelé, le jeu s&#39;exécute normalement en arrière-plan, tandis que l&#39;utilisateur y répond. le dialogue montré. Une fois que l&#39;utilisateur a répondu, un <a href=
"../../../2_interface/1_editors/events/async_events.html">événement asynchrone Dialogs</a> sera appelé afin que vous puissiez traiter les résultats. </p><p> Vous trouverez ci-dessous une liste de toutes les fonctions de dialogue asynchrones disponibles: </p><ul><li> <a href="get_login_async.html">get_login_async</a> </li><li> <a href="show_message_async.html">show_message_async</a> </li><li> <a href="show_question_async.html">show_question_async</a> </li><li> <a href="get_string_async.html">get_string_async</a> </li><li> <a href="get_integer_async.html">get_integer_async</a> </li></ul></div><br><a name="async_http" id="async_http"></a> <label class="collapse"
for="three">Économie de nuage</label> <input id="three" type="checkbox"><div class="index_list"><p> Lors de la création de jeux, il est souvent nécessaire de stocker des informations sur l’état du jeu dans un fichier de type quelconque, mais stocker ces informations sur le périphérique n’est pas toujours la meilleure option car, si le joueur supprime le jeu puis le réinstalle, l&#39;information peut être perdue. Pour éviter cela, vous pouvez utiliser différents <b>services de cloud computing</b>, qui offrent un stockage de données sur Internet pour une extraction et une modification à tout moment. Notez que cette fonction est limitée à <b>un</b> seul &quot;blob&quot; de données par jeu. Ainsi, chaque fois que vous envoyez une nouvelle sauvegarde au service cloud, qu&#39;il s&#39;agisse d&#39;une chaîne ou d&#39;un fichier, les données précédemment stockées seront écrasées. </p><p> <i><span class="notranslate">GameMaker Studio 2</span></i> prend cela en charge avec quelques fonctions simples qui fonctionnent conjointement avec l&#39; <a href=
"../../../2_interface/1_editors/events/async_events.html">événement Cloud asynchrone</a>. Ces fonctions sont expliquées dans les pages suivantes: </p><ul><li> <a href="cloud_synchronise.html">cloud_synchronise</a> </li><li> <a href="cloud_string_save.html">cloud_string_save</a> </li><li> <a href="cloud_file_save.html">cloud_file_save</a> </li></ul><div class="note"> <b>REMARQUE:</b> Actuellement, seule la cible <b><span class="notranslate">Android</span></b> utilise ces fonctions. Vous devez donc cocher la <b>case Activer l&#39;enregistrement</b> dans <b>Google Cloud</b> dans la section <b>Social</b> des <a href=
"../../../2_interface/3_settings/game_options/options_android.html">Options de jeu</a> <span class="notranslate">Android</span>. Cela vous invitera à télécharger l&#39;extension <a href=
"https://marketplace.yoyogames.com/assets/2008/google-play-services"
target="_blank">Google Services</a>, indispensable au bon fonctionnement de la sauvegarde dans le cloud sous <span class="notranslate">Android</span>. Pour plus d&#39;informations sur la sauvegarde dans le cloud, veuillez consulter l&#39;article suivant du service d&#39;assistance: <br><br><ul><li> <a href=
"https://help.yoyogames.com/hc/en-us/articles/360003087452"><span class="notranslate">Android</span> et iOS: Google Cloud Saving</a> </li></ul></div></div><br><a name="async_push" id="async_push"></a> <label class="collapse"
for="four">Notifications push</label> <input id="four" type=
"checkbox"><div class="index_list"><p> Sur les appareils mobiles, normalement, une seule application peut être active au premier plan à la fois, mais de nombreux jeux et applications fonctionnent dans un environnement temporel ou interconnecté où des événements pouvant intéresser les utilisateurs peuvent survenir lorsque l&#39;application n&#39;est <i>pas</i> au premier plan. Dans ces cas, <b>les</b> notifications push <b>locales</b> et <b>distantes</b> peuvent permettre à ces jeux de notifier leurs utilisateurs lorsque des événements se produisent. </p><p> Lorsque le système d&#39;exploitation envoie une notification push locale ou distante et que l&#39;application cible ne s&#39;exécute pas au premier plan, la notification est présentée à l&#39;utilisateur sous la forme d&#39;une bannière. S&#39;il existe une alerte de notification et que l&#39;utilisateur appuie dessus, le jeu est lancé et un <a href=
"../../../2_interface/1_editors/events/async_events.html">événement Push asynchrone</a> appelé, vous permettant de vérifier la chaîne de rappel que vous spécifiez et de résoudre le push en fonction de sa valeur. Si l&#39;application est en cours d&#39;exécution au premier plan lors de la remise de la notification, elle recevra tout de même un événement Push asynchrone, mais l&#39;utilisateur ne recevra aucun message, à moins que vous ne le créiez vous-même. </p><p> Il existe quelques différences à noter entre les plates-formes prises en charge: </p><ul><li> Sur <span class="notranslate">Android</span>, <i>toutes les</i> notifications reçues lorsque l&#39;application n&#39;est pas en cours d&#39;exécution / en arrière-plan, seront stockées et les données transmises par l&#39;événement asynchrone lors de la prochaine exécution de l&#39;application et vous devrez activer les notifications push dans les <a href=
"../../../2_interface/3_settings/game_options/options_android.html">options de jeu <span class="notranslate">Android</span></a> pour qu&#39;elles travail. <br><br></li><li> Sur iOS, les données pour une notification particulière ne seront fournies que lorsque la notification est sélectionnée (ou si l&#39;application est exécutée au premier plan lorsque la notification est reçue) et vous devrez activer les notifications push dans les <a href=
"../../../2_interface/3_settings/game_options/options_ios.html">options de jeu iOS</a> pour qu&#39;elles fonctionnent. <br><br></li></ul><blockquote><a name="async_push_local" id="async_push_local"></a> <label class="collapse" for="a">Notifications locales</label> <input id="a" type="checkbox"><div class="index_list"><p> Une notification push locale est locale sur le périphérique sur lequel le jeu est installé et ne nécessite aucun serveur dorsal. Vous définissez simplement la date et l&#39;heure de la notification et celle-ci sera affichée à l&#39;utilisateur si le jeu n&#39;est pas en cours d&#39;exécution. Ce type de notification est utile pour définir des &quot;rappels&quot; pour permettre à l&#39;utilisateur de rejouer à votre jeu, ou pour offrir une récompense quotidienne pour jouer, etc... et lorsque l&#39;utilisateur appuie sur la notification, il lancera le jeu et transmettra des données. chaîne qui peut ensuite être analysée par le jeu pour donner une récompense ou autre. </p><p> Les fonctions suivantes sont disponibles pour les notifications locales: </p><ul><li> <a href=
"push_local_notification.html">push_local_notification</a> </li><li> <a href=
"push_get_first_local_notification.html">push_get_first_local_notification</a> </li><li> <a href=
"push_get_next_local_notification.html">push_get_next_local_notification</a> </li><li> <a href=
"push_cancel_local_notification.html">push_cancel_local_notification</a> </li></ul><div class="note"> <b>REMARQUE</b>: cette fonctionnalité est limitée aux modules cibles <b>iOS</b> et <b><span class="notranslate">Android</span></b>. Pour <b><span class="notranslate">Android</span></b> vous devez avoir installé l&#39; <a href=
"https://marketplace.yoyogames.com/assets/2008/google-play-services"
target="_blank">extension de services Google Play</a> et avoir activé les notifications push dans les <a href=
"../../../2_interface/3_settings/game_options/options_android.html">options de jeux sociaux <span class="notranslate">Android</span></a>. </div></div><br><a name="async_push_remote" id="async_push_remote"></a> <label class="collapse" for="b">Notifications à distance</label> <input id="b" type="checkbox"><div class="index_list"><p> Les messages de notification à distance sont envoyés par un serveur à un service fourni par la plate-forme de périphériques App Store, qui les transfère ensuite à tous les périphériques sur lesquels votre application est installée. Ceci est pris en charge par <i><span class="notranslate">GameMaker Studio 2</span></i> sur les modules cible iOS et <span class="notranslate">Android</span>. </p><p> <i><span class="notranslate">GameMaker Studio 2</span></i> ne <i><span class="notranslate">GameMaker Studio 2</span></i> aucune fonction <i><span class="notranslate">GameMaker Studio 2</span></i> de gérer les notifications à distance, car elles doivent toutes être générées par votre serveur et gérées par les magasins d&#39;applications respectifs. Cependant, une fois configurés correctement, les <i><span class="notranslate">GameMaker Studio 2</span></i> recevront ces notifications, qui peuvent ensuite être traitées dans l&#39; <a href=
"../../../2_interface/1_editors/events/async_events.html">événement Push asynchrone</a>, comme vous le feriez d&#39;une notification locale. </p><p> Pour toutes les plates-formes disponibles, une fois que vous avez effectué la configuration nécessaire, lorsque le jeu est exécuté sur un périphérique, il <b>enregistre</b> ce périphérique auprès du service de notification push de la plate-forme. Cela déclenchera un <b>événement de notification push asynchrone</b> et le <tt>ds_map</tt> key &quot; <i>type</i> &quot; aura la valeur &quot; <i>register</i> &quot; ainsi qu&#39;une nouvelle clé, &quot; <i>reg_id</i> &quot;, contenant l&#39; <b>identifiant d&#39;enregistrement</b> (ou un message d&#39;erreur dans la clé &quot; <i>error</i> &quot;, si &quot; <i>status</i> &quot; vaut 0). Vous devez ensuite envoyer cet identifiant d’enregistrement à votre serveur, et chaque appareil sur lequel votre jeu est installé aura un identifiant d’enregistrement différent. Votre serveur <i>doit conserver une liste d&#39;identifiants pour les périphériques enregistrés. Par exemple</i>, lorsque vous envoyez un message de notification push depuis votre serveur, vous utilisez les identifiants d&#39;enregistrement pour envoyer le message aux périphériques enregistrés. </p><p> Veuillez noter qu&#39;il n&#39;y a aucune garantie que les notifications push à distance seront livrées et que la charge de données autorisée est assez petite. Cela varie selon les plates-formes, mais iOS est particulièrement limité - le service apple ne fournit que la notification la plus récente, qui doit être sélectionnée par le destinataire pour que les données utiles soient transmises à votre événement asynchrone, et ces notifications ont une taille utile maximale de 256 octets.. En règle générale, une notification push à distance indique simplement que de nouvelles données sont disponibles sur votre serveur, par exemple. </p><div class="note"> <b>REMARQUE</b>: <span class="notranslate">Android</span> nécessite l&#39;ajout de l&#39; <b>ID de l&#39;émetteur GCM</b> dans les <a href=
"../../../2_interface/3_settings/game_options/options_android.html">options de jeu <span class="notranslate">Android</span></a>. Il s&#39;agit du <b>numéro de projet</b> attribué lors de la création de votre projet API Google Play. </div><p><br> Pour plus de détails sur la manière de configurer un serveur, ainsi que sur des informations spécifiques aux plates-formes disponibles, veuillez consulter <a href="https://help.yoyogames.com/hc/en-us/articles/360006732572"
target="_blank">cet article</a> sur le Helpdesk <span class="notranslate">YoYo Games</span>. </p><div class="note"> <b>REMARQUE</b>: L&#39;implémentation côté serveur incombe entièrement à l&#39;utilisateur final. Les <span class="notranslate">YoYo Games</span> ne fournissent aucune assistance pour ce côté des choses, autres que les informations de configuration de base disponibles dans leur base de connaissances. </div></div></blockquote></div><br><a name="async_social" id="async_social"></a> <label class=
"collapse" for="five">Social (Facebook / Classements)</label> <input id="five" type="checkbox"><div class="index_list"><p> Alors que les plates-formes mobiles se développent et occupent une plus grande part du marché du jeu, il en va de même de la demande d&#39;interaction sociale et de retour d&#39;informations de ces jeux. Pour répondre à ces exigences, <i><span class="notranslate">GameMaker</span> Studio 2</i> intègre certaines API tierces vous permettant de communiquer avec différents réseaux, en fonction du périphérique que vous ciblez pour votre jeu. </p><p> Les sections suivantes contiennent des informations sur l&#39;intégration des médias sociaux disponible: </p><blockquote><ol><li> <a href="facebook/index.html"><span class=
"list_link">Facebook</span></a> </li><li> <a href=
"achievements%20and%20leaderboards/index.html"><span class=
"list_link">Réalisations et classements</span></a> </li></ol></blockquote><p> Il existe également une fonction asynchrone qui ouvrira un dialogue et vous permettra de demander à un utilisateur de votre jeu de laisser un commentaire ou une note sur une page Web spécifique: </p><ul><li> <a href="shop_leave_rating.html">shop_leave_rating</a> </li></ul></div><br></blockquote><p><br></p></div><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Retour: <a href=
"../index.html">référence</a> </div><div style="float:right"> Suivant: <a href=
"../networking/index.html">Mise en réseau</a> </div></div></div><h5>© Copyright YoYo Games Ltd. 2018 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>mp_grid_add_cell</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/movement and collisions/motion planning/mp_grid_add_cell.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fmovement%20and%20collisions%2Fmotion%20planning%2Fmp_grid_add_cell.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fmovement%20and%20collisions%2Fmotion%20planning%2Fmp_grid_add_cell.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! --><script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script><h2> mp_grid_add_cell </h2><div class="body-scroll"><h3 class="studio"> Syntaxe: </h3><p class="code">mp_grid_add_cell(id, h, v);<span class="notranslate"></span></p><p><br></p><div class="param"><table><tr><th> Argument </th><th> La description </th></tr><tr><td> <span class="notranslate">id</span> </td> <td> Index du mp_grid à utiliser </td></tr><tr class="alt"><td> <span class="notranslate">h</span> </td> <td> Position horizontale de la cellule dans la grille </td></tr><tr><td> <span class="notranslate">v</span> </td> <td> Position verticale de la cellule dans la grille </td></tr></table></div><p><br></p><p> <b>Retours:</b> N / A </p><p><br></p><h3 class="studio"> La description </h3><p> Avec cette fonction, nous pouvons marquer des cellules individuelles dans le mp_grid comme étant «interdites», ce qui signifie que les fonctions de recherche de chemin ne les traverseront jamais. Maintenant, normalement, vous travaillez dans les coordonnées de la <i>pièce</i> x / y, et non dans <i>les</i> coordonnées de la <i>cellule</i> mp_grid. Alors considérons l&#39;image suivante qui montre comment les deux peuvent corréler: <br><br><img class="center" src="images/mp_grid_add_cell_image.png"></p><p> Comme vous pouvez le voir le mp_grid est numéroté comme une série de cellules (commençant à 0,0 dans le coin supérieur gauche), et quand vous placez cette grille sur la pièce il y a une corrélation directe entre les coordonnées de la pièce (qui commencent également à 0, 0 en haut à gauche) et les cellules de la grille. Dans l&#39;image, vous pouvez voir qu&#39;une instance à la position 260,130 tombe sur la cellule de grille 8,4. Vous pouvez calculer mathématiquement la cellule exacte sur laquelle une position atterrit facilement soit en divisant le nombre par la résolution de la grille puis en arrondissant vers le bas <i>ou</i> (si vous utilisez la puissance de 2 résolutions de grille comme 8, 16, 32 etc...) vous pouvez utilisez les opérateurs au niveau du bit. Il convient de noter que l&#39;opération au niveau du bit est plus rapide. L&#39;exemple ci-dessous montre les deux méthodes. <br><br></p><p><br></p><h3 class="studio"> Exemple: </h3><p class="code">with (obj_Wall)<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;mp_grid_add_cell(grid, floor(x / 32), floor(y /
32));<br>
&nbsp;&nbsp;&nbsp;}<br>
with (obj_Door)<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;mp_grid_add_cell(grid, x&gt;&gt;5,
y&gt;&gt;5);<br>
&nbsp;&nbsp;&nbsp;}<br><span class="notranslate"></span></p><p> Le code ci-dessus fera tout &quot;obj_Wall&quot; et tous obj_Door ajouter leurs positions de cellules équivalentes dans le mp_grid indexé dans la variable &quot;grille&quot;. Dans la première partie de l&#39;exemple, ceci est fait en prenant les coordonnées x / y de l&#39;objet et en les divisant par la résolution de la grille (en utilisant <tt>floor</tt> pour garder les valeurs comme des entiers), et dans la deuxième partie (puisque la résolution de la grille est une puissance de 2), cela se fait en décalant les coordonnées x, y 5 endroits vers la droite. </p><p><br></p></div><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Retour: <a href="index.html">Planification de mouvement</a> </div><div style="float:right"> Suivant: <a href=
"mp_grid_add_instances.html">mp_grid_add_instances</a> </div></div></div><h5> © Copyright <span class="notranslate">YoYo Games Ltd.</span> 2017 Tous droits réservés </h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>

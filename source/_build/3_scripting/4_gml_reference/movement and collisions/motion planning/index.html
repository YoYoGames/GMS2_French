<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>Motion Planning</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/movement and collisions/motion planning/index.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fmovement%20and%20collisions%2Fmotion%20planning%2Findex.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fmovement%20and%20collisions%2Fmotion%20planning%2Findex.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! --><script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script><h2> Planification de mouvement </h2><div class="body-scroll"><p> Dans de nombreux jeux, vous voulez que les adversaires, les PNJ, les ennemis etc... interagissent avec le joueur et montrent une certaine intelligence lorsqu&#39;ils se déplacent: vous voulez qu&#39;ils évitent les obstacles, planifient les routes et ne tombent généralement pas sur leur chemin! Pour vous aider, <i><span class="notranslate">GameMaker Studio 2</span></i> dispose d&#39;une série de fonctions relatives à la planification de mouvement. Notez que bien qu&#39;ils soient conçus pour des choses comme les ennemis de jeu, ils peuvent être utilisés pour toutes sortes de choses comme créer un passage fluide pour introduire du texte, ou créer des transitions etc... Cependant, quoi que vous choisissiez dans la liste ci-dessous Dans votre jeu, il est à noter que dans de nombreuses situations, un seul ensemble de fonctions ne vous donnera pas une solution parfaite et que vous devrez &quot;mélanger et assortir&quot; les fonctions, en utilisant l&#39;une ou l&#39;autre selon la situation dans votre jeu. </p><p> La planification de mouvement dans <i><span class="notranslate">GameMaker Studio 2</span></i> est <b>gérée</b> par les fonctions <b>mp_</b>, elles-mêmes divisées en trois groupes: </p><blockquote> <label class="collapse" for="one">Fonctions linéaires</label> <input id="one" type="checkbox"><div class="index_list"><p> Ce type de fonction essaie de calculer un chemin sans collision pour l&#39;instance. Une fois que ce chemin a été calculé, vous pouvez l&#39;assigner à l&#39;instance pour l&#39;atteindre. Le calcul du chemin prendra un certain temps mais après cela l&#39;exécution du chemin sera rapide. Bien sûr, cela n&#39;est valable que si la situation n&#39;a pas changé entre-temps. Par exemple, si les obstacles changent, vous devrez peut-être recalculer le chemin. Notez à nouveau que ces fonctions peuvent échouer et qu&#39;aucun chemin ne peut être trouvé pour l&#39;instance. </p><ul><li> <a href="mp_linear_step.html">mp_linear_step</a> <br></li><li> <a href=
"mp_linear_step_object.html">mp_linear_step_object</a> <br></li><li> <a href="mp_linear_path.html">mp_linear_path</a> <br></li><li> <a href=
"mp_linear_path_object.html">mp_linear_path_object</a> <br></li></ul></div><br> <label class="collapse" for="three">Fonctions potentielles</label> <input id="three" type="checkbox"><div class="index_list"><p> Ce sont les fonctions d&#39;évitement de base et bon pour l&#39;IA simple. Ils travaillent en faisant une instance faire un pas vers une position de but particulier tout en essayant d&#39;aller directement si possible, mais en prenant une direction différente si nécessaire. Ces fonctions doivent être utilisées dans l&#39; <b>événement d&#39;étape</b> d&#39;une instance. </p><ul><li> <a href=
"mp_potential_settings.html">mp_potential_settings</a> <br></li><li> <a href="mp_potential_step.html">mp_potential_step</a> <br></li><li> <a href=
"mp_potential_step_object.html">mp_potential_step_object</a> <br></li><li> <a href="mp_potential_path.html">mp_potential_path</a> <br></li><li> <a href=
"mp_potential_path_object.html">mp_potential_path_object</a> <br></li></ul></div><br> <label class="collapse" for="two">Fonctions de grille</label> <input id=
"two" type="checkbox"><div class="index_list"><p> Le dernier type de fonction utilise un mécanisme beaucoup plus complexe basé sur une approche basée sur une grille (parfois appelé un algorithme A *). Il sera beaucoup plus efficace de trouver des chemins (même si cela peut encore échouer) et trouvera les chemins les plus courts possibles, mais il nécessite plus de travail de votre part pour le mettre en place. </p><p> L&#39;idée globale est la suivante - Tout d&#39;abord, nous créons une grille qui couvre la pièce (ou la partie concernée). Vous pouvez choisir d&#39;utiliser une grille fine, qui sera plus lente, ou une grille grossière, mais les deux devraient être basés sur la résolution de la pièce afin que la recherche de chemin soit aussi précise que possible. Par exemple, si vous avez une pièce de 400x200 pixels, vous pouvez avoir une résolution de grille de 40, ou 20, ou 10... tout dépend de la précision avec laquelle vous voulez que le chemin soit et du traitement que vous voulez que <span class="notranslate">GameMaker</span> faire pour le générer. </p><p> Ensuite, pour tous les objets pertinents que nous voulons éviter, nous devons déterminer les cellules de la grille qui se chevauchent (en fonction soit de leurs boîtes englobantes soit de leur sprite précis) et marquer ces cellules comme étant interdites. Ainsi, une cellule sera marquée totalement interdite, même si un obstacle ne se chevauche que partiellement. </p><p> Enfin, nous spécifions une position de départ et une position de but, qui <i>doivent</i> toutes deux se trouver dans des cellules libres, et la fonction calcule alors le chemin le plus court possible entre ces deux positions. Le chemin va courir entre les centres de toutes les cellules libres, donc si les cellules sont assez grandes pour que l&#39;instance placée en son centre se trouve complètement à l&#39;intérieur, ce sera un succès. Ce chemin est ensuite assigné à l&#39;instance à suivre en utilisant le <a href=
"../../paths/index.html"><tt>path_</tt></a> les fonctions. Vous devez vous rendre compte de l&#39;importance de la taille des cellules car les cellules doivent être suffisamment grandes pour que l&#39;objet en mouvement placé au centre d&#39;une cellule se trouve <i>complètement</i> à l&#39;intérieur de la cellule. (Faites attention à la position de l&#39;origine de l&#39;objet et sachez que vous pouvez déplacer le chemin si l&#39;origine de l&#39;objet n&#39;est pas en son centre!) D&#39;un autre côté, plus les cellules sont petites, plus il existe de chemins possibles. Si vous faites des cellules trop grandes, les ouvertures entre les obstacles peuvent se fermer parce que toutes les cellules recoupent un obstacle. </p><ul><li> <a href="mp_grid_create.html">mp_grid_create</a> <br></li><li> <a href="mp_grid_destroy.html">mp_grid_destroy</a> <br></li><li> <a href="mp_grid_path.html">mp_grid_path</a> <br></li><li> <a href="mp_grid_add_cell.html">mp_grid_add_cell</a> <br></li><li> <a href=
"mp_grid_add_instances.html">mp_grid_add_instances</a> <br></li><li> <a href=
"mp_grid_add_rectangle.html">mp_grid_add_rectangle</a> <br></li><li> <a href="mp_grid_get_cell.html">mp_grid_get_cell</a> <br></li><li> <a href="mp_grid_clear_all.html">mp_grid_clear_all</a> <br></li><li> <a href="mp_grid_clear_cell.html">mp_grid_clear_cell</a> <br></li><li> <a href=
"mp_grid_clear_rectangle.html">mp_grid_clear_rectangle</a> <br></li><li> <a href="mp_grid_to_ds_grid.html">mp_grid_to_ds_grid</a> <br></li><li> <a href="mp_grid_draw.html">mp_grid_draw</a> <br></li></ul><p> L&#39;approche basée sur la grille est très puissante (et est utilisée dans de nombreux jeux professionnels), mais elle nécessite une réflexion approfondie, car vous devez déterminer quelle zone et quelle taille de cellule sont suffisantes pour résoudre le jeu. En outre, vous devez déterminer quels objets doivent être évités et si un contrôle précis est important. Tous ces paramètres influencent fortement l&#39;efficacité de l&#39;approche. Vous devez également décider si c&#39;est réellement nécessaire, car peut-être que l&#39;une des fonctions mp_ les moins coûteuses peut aussi bien faire l&#39;affaire. </p></div></blockquote><p><br></p></div><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Retour: <a href="../index.html">Mouvement et collisions</a> </div><div style="float:right"> Suivant: <a href=
"../collisions/index.html">Collisions</a> </div></div></div><h5>© Copyright YoYo Games Ltd. 2018 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>

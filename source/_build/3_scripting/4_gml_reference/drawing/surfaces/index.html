<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>Surfaces</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/drawing/surfaces/index.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fdrawing%2Fsurfaces%2Findex.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fdrawing%2Fsurfaces%2Findex.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! --><script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script><h2> Surfaces </h2><div class="body-scroll"><p><br></p><p> Dans les événements de dessin normaux, <i><span class="notranslate">GameMaker Studio 2</span></i> ne dessine pas directement sur l&#39;écran, mais dessine plutôt sur une <b>surface</b> appelée <b>surface de</b> l&#39; <i>application</i>. Cette surface est fondamentalement une &quot;toile&quot; vierge qui peut ensuite être manipulée avant d&#39;être attirée à l&#39;écran si nécessaire, et dans la plupart des cas, <span class="notranslate">GameMaker Studio 2</span> gère cela pour vous (bien que vous puissiez également le manipuler vous-même dans le code pour les shaders beaucoup d&#39;autres choses - plus de détails sont donnés ci-dessous). </p><p> Cependant, en dehors de cette surface d&#39;application, vous pouvez également créer vos propres surfaces et les utiliser pour créer des effets spéciaux étonnants ou subtils dans votre jeu. Par exemple, vous pouvez utiliser des surfaces pour &quot;attraper&quot; des instances, qui peuvent ensuite être détruites. Vous pouvez ainsi créer un effet de décalque où l&#39;image-objet de l&#39;instance est affichée comme si elle existait encore, permettant des effets graphiques comme débris, sang, etc... sans frais généraux de traitement réel. Une autre chose que vous pouvez faire avec les surfaces est de les utiliser comme des textures à manipuler, ou de créer des sprites &quot;à la volée&quot;, ou de créer des superpositions complexes. en fait, les utilisations pour les surfaces sont infinies! </p><p> Les surfaces normales sont assez faciles à utiliser, mais il y a quelques règles de base à suivre quand vous les utilisez: </p><blockquote><ul><li> Tout d&#39;abord, vous devez réaliser que les surfaces ( <i>à</i> l&#39; <i>exception de</i> la surface d&#39;application) sont &quot;volatiles&quot;. Cela signifie que si l&#39;appareil ou la fenêtre perd son focus ou est minimisé (de bons exemples sont lorsqu&#39;un écran de veille apparaît dans Windows, ou sur un appareil <span class="notranslate">Android</span> lorsque l&#39;application perd le focus suite à un appel), la surface peut être détruite. En effet, il est stocké dans la mémoire de texture et peut être écrasé lorsque la plate-forme cible a besoin de cette mémoire pour autre chose, ce qui signifie que vous devez <i><b>toujours</b></i> avoir un certain type de code de sécurité, généralement avec <a href="surface_exists.html"><tt>surface_exists</tt></a> fonction. <br><br></li><li> Deuxièmement, vous devez noter que les surfaces nécessitent de grandes quantités de mémoire de texture à utiliser, et vous devriez donc essayer de les garder aussi petites que possible. Normalement, vous essaierez de ne pas dépasser la taille de la vue ou de la fenêtre d&#39;affichage. <br><br></li><li> Troisièmement, vous ne devez <b>créer des surfaces que dans l&#39;événement draw</b>. Si vous créez une surface dans l&#39;événement de création d&#39;une instance, vous pouvez potentiellement obtenir le <i>même</i> index que le <tt>application_surface</tt>. Cela peut alors causer beaucoup de problèmes et de confusion lorsque vous pensez que vous utilisez votre propre surface, mais vous utilisez réellement la cible de rendu actuelle. Vous devriez également toujours essayer de limiter le <i>dessin</i> à une surface dans l&#39;événement de dessin, car en raison de la manière optimisée dont <i><span class="notranslate">GameMaker Studio 2</span></i> dessine à l&#39;écran, il est recommandé de conserver toutes les fonctions de dessin <i>dans l&#39;événement de dessin</i>. une surface quand elle est créée, etc... Dessiner sur une surface en dehors de l&#39;événement draw est possible et peut même être nécessaire pour certains effets, mais ce n&#39;est pas comme cela que cela doit être fait. <br><br></li><li> Quatrièmement, lorsque vous dessinez manuellement sur une surface, la surface est <i>toujours</i> à la position (0,0). Cela signifie que vous devrez peut-être convertir les coordonnées absolues en coordonnées locales pour la surface. Par exemple, si vous avez une surface de la taille d&#39;une vue et que vous souhaitez dessiner quelque chose qui est actuellement visible sur cette surface, vous devez soustraire les coordonnées x et y de la caméra pour obtenir une position relative par rapport à la surface (0,0) position. Donc, le code ressemblerait à ceci: <br><br><p class="code">if view_current = 0<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;surface_set_target(surf);<br>
&nbsp;&nbsp;&nbsp;with (obj_Effect)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var _vx =
camera_get_view_x(view_camera[1]);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var _vy =
camera_get_view_y(view_camera[1]);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;draw_sprite(sprite_index,
image_index, x - _vx, y - _vy);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;surface_reset_target();<br>
&nbsp;&nbsp;&nbsp;}<br>
else<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;draw_surface(surf, 0, 0);<br>
&nbsp;&nbsp;&nbsp;}<br><span class="notranslate"></span></p></li></ul></blockquote><p> L&#39;utilisation de base d&#39;une surface est la suivante: vous créez d&#39;abord une surface et affectez son index à une variable. Vous devez ensuite placer la cible de dessin sur la surface plutôt que sur l&#39;affichage et dessiner les choses que vous souhaitez ainsi que d&#39;effectuer d&#39;autres manipulations. Une fois que vous avez terminé, vous réinitialisez la cible de dessin de sorte que tout autre dessin se répète à l&#39;écran. Une chose à noter est que si vous avez besoin de dessiner tout l&#39;affichage sur une surface (y compris les carreaux, les arrière-plans etc...) vous pouvez simplement accéder à la surface de l&#39;application (voir plus bas) ou assigner une surface à une vue port en utilisant la variable <a href=
"../../cameras%20and%20display/cameras/view_surface_id.html"><tt>view_surface_id[0..7]</tt></a> comme avec tout ce qui est visible dans cette vue, le port sera tracé sur la surface correspondante. </p><blockquote><a name="surface_functions" id="surface_functions"></a> <label class="collapse" for="one">Fonctions de surface</label> <input id="one" type="checkbox"><div class="index_list"><p> Les fonctions suivantes existent pour traiter les surfaces (ces fonctions sont spécifiques à la création et à la manipulation de surfaces, mais pour les dessiner à l&#39;écran, vous devez utiliser les fonctions de dessin spécifiques que vous trouverez dans la section <b>Dessins de surface</b> ci-dessous): </p><ul><li> <a href="surface_exists.html">surface_exists</a> <br></li><li> <a href="surface_create.html">surface_create</a> <br></li><li> <a href="surface_create_ext.html">surface_create_ext</a> <br></li><li> <a href="surface_resize.html">surface_resize</a> <br></li><li> <a href="surface_set_target.html">surface_set_target</a> <br></li><li> <a href=
"surface_set_target_ext.html">surface_set_target_ext</a> <br></li><li> <a href=
"surface_reset_target.html">surface_reset_target</a> <br></li><li> <a href="surface_copy.html">surface_copy</a> <br></li><li> <a href="surface_copy_part.html">surface_copy_part</a> <br></li><li> <a href="surface_get_height.html">surface_get_height</a> <br></li><li> <a href="surface_get_width.html">surface_get_width</a> <br></li><li> <a href="surface_get_texture.html">surface_get_texture</a> <br></li><li> <a href="surface_getpixel.html">surface_getpixel</a> <br></li><li> <a href=
"surface_getpixel_ext.html">surface_getpixel_ext</a> <br></li><li> <a href="surface_free.html">surface_free</a> <br></li><li> <a href="surface_save.html">surface_save</a> <br></li><li> <a href="surface_save_part.html">surface_save_part</a> <br></li></ul></div><br><a name="application_surface" id="application_surface"></a> <label class="collapse" for="two">La surface d&#39;application</label> <input id="two" type="checkbox"><div class="index_list"><p> Comme mentionné ci-dessus, tout le dessin normal dans votre jeu est fait sur la <i>surface d&#39;application</i>, et cette surface peut être changée et manipulée juste comme une surface normale. Cependant, ce n&#39;est <i>pas</i> une surface normale et les utilisateurs avancés trouveront qu&#39;il permet un contrôle complet sur comment et quand les choses sont dessinées dans <i><span class="notranslate">GameMaker</span> Studio 2</i>. Pour plus de détails, ainsi que des fonctions spécifiques pour cette fonctionnalité, veuillez consulter la section suivante: </p><blockquote><ol><li> <a href="the%20application%20surface.html">La surface d&#39;application</a> <br></li></ol></blockquote><p> Les fonctions et variables suivantes existent pour référencer la surface de l&#39;application: </p><ul><li> <a href="application_surface.html">application_surface</a> <br></li></ul><p> Et vous avez également quelques fonctions spéciales qui sont conçues <i>uniquement</i> pour une utilisation avec la surface de l&#39;application: </p><ul><li> <a href=
"application_surface_enable.html">application_surface_enable</a> <br></li><li> <a href=
"application_surface_is_enabled.html">application_surface_is_enabled</a> <br></li><li> <a href=
"application_get_position.html">application_get_position</a> <br></li><li> <a href=
"application_surface_draw_enable.html">application_surface_draw_enable</a> <br></li></ul></div><br><a name="surface_drawing" id="surface_drawing"></a> <label class=
"collapse" for="three">Dessin de surface</label> <input id="three"
type="checkbox"><div class="index_list"><p> Les surfaces sont un outil graphique incroyablement puissant que <i><span class="notranslate">GameMaker Studio 2</span></i> vous fournit pour créer des effets spéciaux et une foule d&#39;autres choses. Ils sont relativement simples à utiliser car ils sont essentiellement une toile que vous dessinez à la place de l&#39;écran d&#39;affichage, et cette toile peut ensuite être manipulée et modifiée avant d&#39;être dessinée avec les fonctions de cette section. </p><div class="note"> <b>REMARQUE:</b> Lorsque vous travaillez avec des surfaces, il est possible qu&#39;elles cessent d&#39;exister à tout moment en raison de leur stockage dans la mémoire de texture. Vous devez <b>TOUJOURS</b> vérifier qu&#39;une surface existe en utilisant <a href=
"surface_exists.html"><tt>surface_exists</tt></a> avant de les référencer directement. </div><p> Les fonctions suivantes existent pour dessiner des surfaces: </p><blockquote><ol><li> <a href="draw_surface.html">draw_surface</a> <br></li><li> <a href="draw_surface_ext.html">draw_surface_ext</a> <br></li><li> <a href="draw_surface_part.html">draw_surface_part</a> <br></li><li> <a href=
"draw_surface_part_ext.html">draw_surface_part_ext</a> <br></li><li> <a href=
"draw_surface_stretched.html">draw_surface_stretched</a> <br></li><li> <a href=
"draw_surface_stretched_ext.html">draw_surface_stretched_ext</a> <br></li><li> <a href="draw_surface_tiled.html">draw_surface_tiled</a> <br></li><li> <a href=
"draw_surface_tiled_ext.html">draw_surface_tiled_ext</a> <br></li><li> <a href=
"draw_surface_general.html">draw_surface_general</a> <br></li></ol></blockquote></div></blockquote><p><br></p></div><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Retour: <a href=
"../index.html">Dessin</a> </div><div style="float:right"> Suivant: <a href=
"../lighting/index.html">Éclairage</a> </div></div></div><h5> © Copyright <span class="notranslate">YoYo Games Ltd.</span> 2017 Tous droits réservés </h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>physics_particle_get_data</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/physics/soft body particles/physics_particle_get_data.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fphysics%2Fsoft%20body%20particles%2Fphysics_particle_get_data.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fphysics%2Fsoft%20body%20particles%2Fphysics_particle_get_data.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! --><script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script><h1 class="studio"> physics_particle_get_data </h1><h2 class="studio"> Obtenez des données sur des particules individuelles dans votre simulation de physique. </h2><h3 class="studio"> Syntaxe: </h3><p class="code">physics_particle_get_data(buffer, flags)<span class="notranslate"></span></p><p><br></p><div class="param"><table><tr><th> Argument </th><th> La description </th></tr><tr><td> <span class="notranslate">buffer</span> </td> <td> Le tampon (créé précédemment) à utiliser pour stocker les données. </td></tr><tr class="alt"><td> <span class="notranslate">flags</span> </td> <td> Les indicateurs à utiliser pour extraire des données sur des types de particules spécifiques. </td></tr></table></div><p><br></p><p> <b>Renvoie: les</b> données du tampon </p><p><br></p><h3 class="studio"> La description </h3><p> Cette fonction retourne diverses informations sur chaque particule dans la simulation de physique en utilisant les indicateurs donnés vérifiés. Le tampon utilisé doit avoir été créé précédemment en utilisant la fonction <a href=
"../../buffers/buffer_create.html"><tt>buffer_create()</tt></a>, et devrait être de type «grow», la taille étant approximativement celle des données de retour attendues. Les indicateurs sont définis en utilisant l&#39;une des constantes données ci-dessous, et vous utiliserez le bitwise <i>ou</i> &quot;|&quot; pour créer une seule valeur de drapeau pour obtenir l&#39;information désirée. <br><br></p><div class="compat"><table><tr><th> Constant </th><th> La description </th><th> Type de données </th></tr><tr><td> <span class="notranslate">phy_particle_data_flag_typeflags</span> </td> <td> La valeur des drapeaux pour la particule. </td><td> <span class="notranslate">buffer_u32</span> </td> </tr><tr><td> <span class="notranslate">phy_particle_data_flag_position</span> </td> <td> La position x et y de la particule. </td><td> <span class="notranslate">2 x buffer_f32</span> </td> </tr><tr><td> <span class="notranslate">phy_particle_data_flag_velocity</span> </td> <td> La vitesse horizontale et verticale. </td><td> <span class="notranslate">2 x buffer_f32</span> </td> </tr><tr><td> <span class="notranslate">phy_particle_data_flag_colour</span> </td> <td> La couleur et la valeur alpha (hexadécimal). </td><td> <span class="notranslate">buffer_f32</span> </td> </tr><tr><td> <span class="notranslate">phy_particle_data_flag_category</span> </td> <td> La catégorie de particule (telle que définie lorsque vous avez créé la particule ou le groupe auquel elle appartient). </td><td> <span class="notranslate">buffer_f32</span> </td> </tr></table></div><p><br><br></p><p><br></p><h3 class="studio"> Exemple: </h3><p class="code">var count = physics_particle_count();<br>
var flags = phy_particle_data_flag_position |
phy_particle_data_flag_colour;<br>
if (count &gt; 0)<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;var buffer = buffer_create(count * 12,
buffer_grow, 4);<br>
&nbsp;&nbsp;&nbsp;physics_particle_get_data(buffer, flags);<br>
&nbsp;&nbsp;&nbsp;for (var n = 0; n &lt; count; n++;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var xx = buffer_read(buffer,
buffer_f32);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var yy = buffer_read(buffer,
buffer_f32);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var argb = buffer_read(buffer,
buffer_u32);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var alpha = (argb &gt;&gt; 24)
&amp; 255;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;draw_sprite_ext(sprBlob, 0, xx,
yy, 1, 1, 0, c_green, alpha);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;buffer_delete(buffer);<br>
&nbsp;&nbsp;&nbsp;}<br><span class="notranslate"></span></p><p> Le code ci-dessus obtient le nombre de particules et crée une variable avec les indicateurs de données à vérifier, puis vérifie s&#39;il y a des particules dans la pièce. Si c&#39;est le cas, un tampon est créé, puis rempli avec les données de particules, qui sont vérifiées et utilisées pour dessiner un sprite à la position de la particule. </p><p><br></p><div class="clear"><div style="float:left"> Dos: <a href="index.html">Particules molles du corps</a> </div><div style="float:right"> Suivant: <a href=
"physics_particle_get_data_particle.html">physics_particle_get_data_particle</a> </div></div><h5>© Copyright YoYo Games Ltd. 2018 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>

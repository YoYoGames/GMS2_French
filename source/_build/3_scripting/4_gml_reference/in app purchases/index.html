<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>In App Purchases</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/in app purchases/index.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fin%20app%20purchases%2Findex.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fin%20app%20purchases%2Findex.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! --><script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script><h2> Dans les achats d&#39;applications </h2><div class="body-scroll"><p><br></p><p> Dans Achats App sont une partie importante des jeux modernes, multi-plateforme, vous permettant d&#39;avoir du contenu &quot;freemium&quot; où votre jeu est gratuit, mais certains contenus sont uniquement disponibles via un achat à partir du jeu lui-même. Par exemple, votre jeu de puzzle est gratuit, mais les niveaux supplémentaires vont coûter 0,99 $ à l&#39;utilisateur. Ce modèle d&#39;application est très courant et peut être configuré avec un minimum de travail depuis <i><span class="notranslate">GameMaker Studio 2</span></i>, et cette section du manuel contient des détails sur toutes les fonctions disponibles qui vous permettent de le faire, ainsi que des conseils pour mise en place et des informations sur la façon de tester sur les différentes plates-formes. </p><p> La configuration des achats d&#39;applications dans votre jeu est relativement simple avec <i><span class="notranslate">GameMaker Studio 2</span></i>, mais il vous faut encore une certaine connaissance de la configuration de la plateforme cible ainsi qu&#39;une planification minutieuse avant de commencer à créer votre jeu. Il n&#39;est donc pas recommandé de l&#39;utiliser fonctionnalité si vous démarrez simplement avec <i><span class="notranslate">GameMaker Studio 2</span></i> ou si vous ne savez pas comment les différents magasins de chaque plate-forme cible sont configurés. </p><p> Avant de faire quoi que ce soit, vous devrez vous assurer que vous avez configuré les détails d&#39;achat sur le magasin cible pour chaque plate-forme que vous souhaitez prendre en charge, en prenant soin de noter chacun des <b>ID de produit</b> que vous définissez <i><span class="notranslate">GameMaker Studio 2</span></i> identifie chaque produit et chaque achat. <br><br></p><p> Pour aider ceux d&#39;entre vous qui n&#39;ont jamais travaillé avec les services IAP et pour expliquer les différentes manières de tester les IAP sur différents périphériques, consultez les pages suivantes: </p><blockquote><ol><li> <a href="http://help.yoyogames.com/entries/29734673.html"
target="_blank">Exemple de PAI</a> <br></li><li> <a href="http://help.yoyogames.com/entries/29736883" target=
"_blank">Test IAP</a> <br></li></ol></blockquote><div class="note"> <b>REMARQUE</b>: <i><span class="notranslate">GameMaker Studio 2</span></i> autorise actuellement jusqu&#39;à 128 options d&#39;achat distinctes par titre, sauf si vous utilisez l&#39; <span class="notranslate">Amazon</span> Store (pour <span class="notranslate">Android</span> ) où il est limité à 100. <p> <b>AVERTISSEMENT:</b> vous ne pourrez pas effectuer d&#39;achats lors du débogage de titres à l&#39;aide de l&#39;IDE <i><span class="notranslate">GameMaker Studio 2</span></i>. Au lieu de cela, vous devrez créer des exécutables finaux pour vous assurer que le titre peut communiquer correctement avec les serveurs de magasins respectifs. </p></div><p> Vous trouverez ci-dessous les fonctions intégrées dans <i><span class="notranslate">GameMaker Studio 2</span></i> pour activer les achats intégrés sur <span class="notranslate">Android</span> appareils cibles iOS et <span class="notranslate">Android</span> (il s&#39;agit de la possibilité d&#39;acheter des crédits, des objets, des niveaux et d&#39;autres objets du jeu lui-même). Beaucoup de ces fonctions déclencheront un <a href=
"../../../2_interface/1_editors/events/async_events.html">événement asynchrone IAP</a>, qui contient un <tt>ds_map</tt> avec une clé initiale &quot;type&quot;. Cela peut ensuite être interrogé pour obtenir le type d&#39;événement IAP qui a été déclenché, ce qui vous permettra ensuite d&#39;obtenir d&#39;autres données de la carte. </p><p> Les fonctions d&#39;achat disponibles dans l&#39;application sont: </p><ul><li> <a href="iap_activate.html">iap_activate</a> <br></li><li> <a href="iap_status.html">iap_status</a> <br></li><li> <a href=
"iap_enumerate_products.html">iap_enumerate_products</a> <br></li><li> <a href="iap_restore_all.html">iap_restore_all</a> <br></li><li> <a href="iap_acquire.html">iap_acquire</a> <br></li><li> <a href="iap_consume.html">iap_consume</a> <br></li><li> <a href="iap_product_details.html">iap_product_details</a> <br></li><li> <a href=
"iap_purchase_details.html">iap_purchase_details</a> <br></li></ul><br><p> Vous devez également savoir que <i><span class="notranslate">GameMaker Studio 2</span></i> ne conserve <i><b>pas l&#39;</b></i> état d&#39;achat actif sur plusieurs <i><span class="notranslate">GameMaker Studio 2</span></i> du jeu (et donc <tt>iap_is_purchased()</tt> n&#39;est pas fiable si un magasin n&#39;a pas été chargé avec succès). Cela signifie que vous devrez stocker ces informations vous-même et les récupérer à chaque démarrage de votre partie. Vous pouvez utiliser les fonctions de sauvegarde et de chargement spéciales &quot;sécurisées&quot; fournies pour ds_maps à cette fin: </p><ul><li> <a href=
"../data_structures/ds%20maps/ds_map_secure_save.html">ds_map_secure_save</a> <br></li><li> <a href=
"../data_structures/ds%20maps/ds_map_secure_load.html">ds_map_secure_load</a> <br></li></ul><br><p> <i><span class="notranslate">GameMaker Studio 2</span></i> ne conserve pas l&#39;état d&#39;achat sur plusieurs <i><span class="notranslate">GameMaker Studio 2</span></i> du jeu car il n&#39;est pas approprié pour nous de fournir une méthode sécurisée pour vérifier si un achat individuel est valide et donc tout état d&#39;achat stocké automatiquement serait présomptueux. Sur la plupart des plateformes, les données de réception seront disponibles <a href=
"iap_purchase_details.html"><tt>iap_purchase_details()</tt></a> que les utilisateurs peuvent utiliser pour vérifier un achat, bien que Google Play utilise plutôt des données &quot;symboliques&quot;. </p><p> <i><span class="notranslate">GameMaker Studio 2</span></i> requiert la <b>clé publique Google Play</b> pour une simple vérification des achats locaux et vous pouvez vérifier que les données &quot;payload&quot; retournées avec un résultat d&#39;achat correspondent à celles utilisées avec l&#39;appel correspondant à <tt>iap_acquire()</tt>. </p><p><br></p></div><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Arrière: <a href="../index.html">Référence du langage <i><span class="notranslate">GameMaker</span> Studio 2</i></a> </div><div style="float:right"> Next: <a href=
"../asynchronous%20functions/index.html">Fonctions asynchrones</a> </div></div></div><h5> © Copyright <span class="notranslate">YoYo Games Ltd.</span> 2017 Tous droits réservés </h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>In App Purchases</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/in app purchases/index.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fin%20app%20purchases%2Findex.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fin%20app%20purchases%2Findex.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! --><script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script><h2> Achats in-app </h2><div class="body-scroll"><p><br></p><p> Les achats intégrés constituent une partie importante des jeux multiplateformes modernes. Ils vous permettent d’obtenir un contenu &quot;freemium&quot; où votre jeu est gratuit, mais certains contenus ne sont disponibles que par un achat effectué dans le jeu lui-même. Par exemple, votre jeu de puzzle est gratuit, mais les niveaux supplémentaires vont coûter 0,99 €. Ce modèle d&#39;application est très courant et peut être configuré avec un minimum de travail à partir de <i><span class="notranslate">GameMaker Studio 2</span></i> Cette section du manuel contient des informations détaillées sur toutes les fonctions disponibles qui vous permettent de le faire, ainsi que des conseils pour mise en place et informations sur la façon de tester sur les différentes plates-formes. </p><p> La configuration des achats dans l&#39;application au sein de votre jeu est relativement simple avec <i><span class="notranslate">GameMaker Studio 2</span></i>, mais elle nécessite néanmoins une certaine connaissance de la configuration de la plate-forme cible ainsi qu&#39;une planification minutieuse avant de commencer à créer votre jeu. Il n&#39;est donc pas recommandé de l&#39;utiliser. fonctionnalité si vous commencez juste avec <i><span class="notranslate">GameMaker Studio 2</span></i> ou si vous n’êtes pas sûr de la configuration des différents magasins pour chaque plate-forme cible. </p><p> Avant de faire quoi que ce soit, vous devez vous assurer que vous avez configuré les détails de l&#39;achat sur le magasin cible pour chaque plate-forme que vous souhaitez prendre en charge, en prenant bien note de chacun des <b>ID de produit</b> que vous définissez, car ces chaînes d&#39;ID sont la <i><span class="notranslate">GameMaker Studio 2</span></i> identifie chaque produit et chaque achat. Dans la plupart des magasins, vous aurez également besoin de télécharger un fichier de base, même si le jeu ne comprend pas encore d&#39;achats in-app. </p><div class="note"> <b>REMARQUE</b>: <i><span class="notranslate">GameMaker Studio 2</span></i> autorise actuellement jusqu&#39;à 128 options d&#39;achat distinctes par titre, sauf si vous utilisez <span class="notranslate">Amazon</span> Store (pour <span class="notranslate">Android</span> ), où il est limité à 100. </div><p><br> Vous trouverez ci-dessous une liste des fonctions intégrées à <i><span class="notranslate">GameMaker</span> Studio 2</i> pour permettre des achats intégrés sur les différentes plates-formes cibles (elles permettent d&#39;acheter des crédits, des objets, des niveaux et d&#39;autres éléments supplémentaires à partir du jeu lui-même). Nombre de ces fonctions vont déclencher un <a href=
"../../../2_interface/1_editors/events/async_events.html">événement asynchrone IAP</a>, qui contient un <a href=
"../../../2_interface/1_editors/events/async_events.html">événement</a> spécial. <tt>ds_map</tt> appelé <tt>iap_data</tt> qui aura un &quot;type&quot; de clé initial qui peut être interrogé pour obtenir le type d’événement IAP qui a été déclenché. Une fois que vous savez de quel type d’événement IAP il s’agit, vous pouvez obtenir d’autres données de la carte pertinentes pour cet événement. </p><p> Les fonctions disponibles dans l&#39;achat de l&#39;application sont les suivantes: </p><ul><li> <a href="iap_activate.html">iap_activate</a> <br></li><li> <a href="iap_status.html">iap_status</a> <br></li><li> <a href=
"iap_enumerate_products.html">iap_enumerate_products</a> <br></li><li> <a href="iap_restore_all.html">iap_restore_all</a> <br></li><li> <a href="iap_acquire.html">iap_acquire</a> <br></li><li> <a href="iap_consume.html">iap_consume</a> <br></li><li> <a href="iap_product_details.html">iap_product_details</a> <br></li><li> <a href=
"iap_purchase_details.html">iap_purchase_details</a> <br></li></ul><br><p> Vous devez également savoir que <i><span class="notranslate">GameMaker Studio 2</span></i> ne conserve <i><b>pas l’</b></i> état d’achat actif lors de multiples jeux du jeu (et donc <tt>iap_is_purchased()</tt> n&#39;est pas fiable si un magasin n&#39;a pas été chargé avec succès). Cela signifie que vous devrez stocker ces informations vous-même et les récupérer à chaque démarrage de votre jeu. Vous pouvez utiliser les fonctions spéciales &quot;sécurisées&quot; de sauvegarde et de chargement fournies pour ds_maps à cette fin: </p><ul><li> <a href=
"../data_structures/ds%20maps/ds_map_secure_save.html">ds_map_secure_save</a> <br></li><li> <a href=
"../data_structures/ds%20maps/ds_map_secure_load.html">ds_map_secure_load</a> <br></li></ul><br><p> <i><span class="notranslate">GameMaker Studio 2</span></i> ne conserve pas l&#39;état d&#39;achat après plusieurs jeux du jeu, car il n&#39;est pas approprié pour nous de fournir une méthode sécurisée permettant de vérifier si un achat individuel est valide ou non. Par conséquent, tout état d&#39;achat stocké automatiquement serait présomptueux. Sur la plupart des plateformes, les données de &quot;reçu&quot; seront disponibles via <a href=
"iap_purchase_details.html"><tt>iap_purchase_details()</tt></a> que les utilisateurs peuvent utiliser pour vérifier un achat, bien que Google Play utilise à la place des &quot;jetons&quot;. </p><p> <i><span class="notranslate">GameMaker Studio 2</span></i> nécessite la <b>clé publique Google Play</b> pour la vérification de l’achat local simple et vous pouvez vérifier que les données de &quot;charge utile&quot; renvoyées avec un résultat d’achat correspondent à celles utilisées avec l’appel correspondant. <tt>iap_acquire()</tt> (Pour plus d&#39;informations sur la clé publique Google, reportez-vous à la section <b>Emballage</b> dans les <a href=
"../../../2_interface/3_settings/game_options/options_android.html">options de jeu <span class="notranslate">Android</span></a>.) </p><p> Des achats in-app sont disponibles pour <span class="notranslate">Android</span> cibles <span class="notranslate">Android</span>, <span class="notranslate">Amazon Fire</span>, iOS et macOS. Des articles sont également disponibles sur le helpdesk de <span class="notranslate">YoYo Games</span> (et sur un didacticiel pour <span class="notranslate">Amazon Fire</span> ) pour vous aider à les configurer correctement: </p><ul><li> <a href=
"https://help.yoyogames.com/hc/en-us/articles/360001971951" target=
"_blank"><span class="notranslate">Android</span>: Configuration des IAP</a> </li><li> <a href=
"https://help.yoyogames.com/hc/en-us/articles/360002368731" target=
"_blank">iOS: Configuration des PAI</a> </li><li> <a href=
"https://help.yoyogames.com/hc/en-us/articles/360002085712" target=
"_blank">macOS: Configuration des IAP</a> </li><li> <a href=
"https://marketplace.yoyogames.com/assets/5884/amazon-fire-and-gamecircle"
target="_blank">Didacticiel <span class="notranslate">Amazon Fire</span> et GameCircle</a> </li></ul><p><br></p></div><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Retour: <a href="../index.html">Référence du langage <i><span class="notranslate">GameMaker</span> Studio 2</i></a> </div><div style="float:right"> Next: <a href=
"../asynchronous%20functions/index.html">Fonctions asynchrones</a> </div></div></div><h5>© Copyright YoYo Games Ltd. 2018 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>GamePad Input</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/controls/gamepad input/index.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fcontrols%2Fgamepad%20input%2Findex.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fcontrols%2Fgamepad%20input%2Findex.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! --><script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script><h2> Entrée GamePad </h2><div class="body-scroll"><p><br></p><p> <i><span class="notranslate">GameMaker Studio 2</span></i> dispose d&#39;un certain nombre de fonctions dédiées pouvant être utilisées pour détecter à la fois les commandes analogiques et numériques à partir de plusieurs consoles de jeu connectées. Ces fonctions fonctionnent de manière similaire aux <a href="../device%20input/index.html">entrées de périphérique</a>, en ce sens que vous pouvez détecter jusqu&#39;à quatre manettes de jeu XInput différentes connectées (et jusqu&#39;à 8 manettes de jeu DirectInput) et gérer les entrées de chacune en utilisant les mêmes fonctions. Notez que lorsqu&#39;un manette de jeu est connectée à votre appareil (ou qu&#39;elle est retirée), un <a href=
"../../../../2_interface/1_editors/events/async_events.html">événement système</a> asynchrone se déclenche et vous permet de gérer la situation à l&#39;aide des fonctions appropriées. </p><p> Les &quot;slots&quot; de la manette de jeu sont indexés de 0 à 0; les fentes 0 à 3 incluses <i>ne sont valables que pour les manettes de jeu Xinput</i>, c&#39;est-à-dire: contrôleurs <i>Xbox 360</i> et compatibles. Cependant, vous pouvez également vérifier les emplacements 4 à 11 inclus pour les manettes de jeu <i>DirectInput</i>, ce qui signifie que vous pouvez détecter de nombreux autres modèles de contrôleur lorsqu’ils sont connectés via ces emplacements. Il convient de noter que lors de l&#39;utilisation des manettes de jeu DirectInput, les constantes indiquées ci-dessous peuvent ne pas correspondre exactement aux boutons attendus lorsqu&#39;elles sont enfoncées, en raison de la manière fragmentée et non normalisée de la mise en œuvre de l&#39;API par les fabricants de contrôleurs. Pour cette raison, il est recommandé d’avoir une sorte d’écran de configuration de la manette de jeu dans lequel les utilisateurs peuvent redéfinir les boutons de la manette de jeu en fonction des entrées de tout appareil connecté à un périphérique afin d’atténuer les problèmes (des fonctions de &quot;cartographie&quot; de la manette de jeu peuvent vous aider à ceci sur <span class="notranslate">Android</span> cibles Bureau de Windows, Ubuntu, MacOS et <span class="notranslate">Android</span>, alors que sur toutes les autres, vous devez le faire vous-même à l&#39;aide d&#39;un code). Notez également que les manettes de jeu à entrée directe sont exécutées en <i>mode coopératif,</i> ce qui signifie que votre jeu n’y a accès que s’il s’agit de l’application de premier plan, ce qui entraînera la «perte» des contrôleurs de saisie directe si le jeu perd la mise au point, puis &quot;à nouveau quand il revient au point (cela peut être détecté dans l&#39;événement système et traité). </p><p> Lorsque vous utilisez les fonctions de la manette de jeu, les entrées peuvent provenir d’ <b>axes</b>, de <b>boutons</b> et / ou de <b>chapeaux</b>, que <i><span class="notranslate">GameMaker</span> Studio</i> affectera à tout ou partie des constantes intégrées suivantes (notez que les &quot;chapeaux&quot; ne sont généralement détectés que sur des <i><span class="notranslate">GameMaker</span></i> non standard. contrôleurs): </p><div class="compat"><table><tr><th> Constant </th><th> La description </th></tr><tr><td> <span class="notranslate">gp_face1</span> </td> <td> Bouton supérieur 1 (mappe le <i>&quot;A&quot;</i> sur un contrôleur Xbox 360 et la <i>croix</i> sur un contrôleur PS) </td></tr><tr class="alt"><td> <span class="notranslate">gp_face2</span> </td> <td> Bouton supérieur 2 (mappe le <i>&quot;B&quot;</i> sur un contrôleur Xbox 360 et le <i>cercle</i> sur un contrôleur PS) </td></tr><tr><td> <span class="notranslate">gp_face3</span> </td> <td> Bouton du haut 3 (cela correspond au <i>&quot;X&quot;</i> sur un contrôleur Xbox 360 et au <i>carré</i> sur un contrôleur PS) </td></tr><tr class="alt"><td> <span class="notranslate">gp_face4</span> </td> <td> Bouton supérieur 4 (mappe le <i>&quot;Y&quot;</i> sur un contrôleur Xbox 360 et le <i>triangle</i> sur un contrôleur PS) </td></tr><tr><td> <span class="notranslate">gp_shoulderl</span> </td> <td> Bouton épaule gauche </td></tr><tr class="alt"><td> <span class="notranslate">gp_shoulderlb</span> </td> <td> Gâchette d&#39;épaule gauche </td></tr><tr><td> <span class="notranslate">gp_shoulderr</span> </td> <td> Bouton épaule droite </td></tr><tr class="alt"><td> <span class="notranslate">gp_shoulderrb</span> </td> <td> Gâchette d&#39;épaule droite </td></tr><tr><td> <span class="notranslate">gp_select</span> </td> <td> Le bouton de sélection (c&#39;est le bouton <i>PS</i> sur un contrôleur DS4) </td></tr><tr class="alt"><td> <span class="notranslate">gp_start</span> </td> <td> Le bouton de démarrage (c&#39;est le bouton &quot;options&quot; sur un contrôleur PS4) </td></tr><tr><td> <span class="notranslate">gp_stickl</span> </td> <td> Le stick gauche pressé (comme un bouton) </td></tr><tr class="alt"><td> <span class="notranslate">gp_stickr</span> </td> <td> Le stick droit appuyé (comme un bouton) </td></tr><tr><td> <span class="notranslate">gp_padu</span> </td> <td> D-pad up </td></tr><tr class="alt"><td> <span class="notranslate">gp_padd</span> </td> <td> D-pad down </td></tr><tr><td> <span class="notranslate">gp_padl</span> </td> <td> D-pad gauche </td></tr><tr class="alt"><td> <span class="notranslate">gp_padr</span> </td> <td> D-pad droit </td></tr><tr><td> <span class="notranslate">gp_axislh</span> </td> <td> Manette gauche axe horizontal (analogique) </td></tr><tr class="alt"><td> <span class="notranslate">gp_axislv</span> </td> <td> Axe vertical du manche gauche (analogique) </td></tr><tr><td> <span class="notranslate">gp_axisrh</span> </td> <td> Bâton droit axe horizontal (analogique) </td></tr><tr class="alt"><td> <span class="notranslate">gp_axisrv</span> </td> <td> Bâton droit axe vertical (analogique) </td></tr></table></div><p><br> Pour mieux comprendre exactement quelle partie du contrôleur chaque constante représente, vous pouvez vous référer à l&#39;image suivante d&#39;un gamepad Xinput standard: <img class="center" src="gamepad.png"> Vous trouverez ci-dessous une liste de toutes les fonctions du gamepad: </p><blockquote><ol><li> <a href=
"gamepad_is_supported.html">gamepad_is_supported</a> <br></li><li> <a href="gamepad_get_guid.html">gamepad_iget_guid</a> <br></li><li> <a href=
"gamepad_get_device_count.html">gamepad_get_device_count</a> <br></li><li> <a href=
"gamepad_is_connected.html">gamepad_is_connected</a> <br></li><li> <a href=
"gamepad_get_description.html">gamepad_get_description</a> <br></li><li> <a href=
"gamepad_get_button_threshold.html">gamepad_get_button_threshold</a> <br></li><li> <a href=
"gamepad_set_button_threshold.html">gamepad_set_button_threshold</a> <br></li><li> <a href="gamepad_axis_count.html">gamepad_axis_count</a> <br></li><li> <a href="gamepad_axis_value.html">gamepad_axis_value</a> <br></li><li> <a href=
"gamepad_button_check.html">gamepad_button_check</a> <br></li><li> <a href=
"gamepad_button_check_pressed.html">gamepad_button_check_pressed</a> <br></li><li> <a href=
"gamepad_button_check_released.html">gamepad_button_check_released</a> <br></li><li> <a href=
"gamepad_button_count.html">gamepad_button_count</a> <br></li><li> <a href=
"gamepad_button_value.html">gamepad_button_value</a> <br></li><li> <a href="gamepad_hat_count.html">gamepad_hat_count</a> <br></li><li> <a href="gamepad_hat_value.html">gamepad_hat_value</a> <br></li><li> <a href=
"gamepad_set_vibration.html">gamepad_set_vibration</a> <br></li><li> <a href=
"gamepad_set_axis_deadzone.html">gamepad_set_axis_deadzone</a> <br></li><li> <a href="gamepad_set_colour.html">gamepad_set_colour</a> <br></li></ol></blockquote><p> Les fonctions suivantes de la manette de jeu existent également et sont utilisées pour remapper les constantes intégrées dans les entrées physiques directes d&#39;une manette de jeu donnée. Ces fonctions <b>ne concernent que <span class="notranslate">Android</span> plates</b> - <b>formes cibles Windows Desktop, Ubuntu, macOS et <span class="notranslate">Android</span></b> Sous Windows, elles <b>ne sont valables que pour les périphériques à entrée directe</b>. Bien que <i><span class="notranslate">GameMaker Studio 2</span></i> propose des mappages pour un certain nombre de consoles de jeu basées sur <a href=
"https://github.com/gabomdq/SDL_GameControllerDB" target=
"_blank">SDL Gamepad Controller DB</a>, toutefois, en raison du grand nombre de marques et de types de contrôleurs disponibles, il est impossible de mapper les constantes GML sur les entrées correctes pour chaque marque. avec ces fonctions, vous avez la possibilité de créer vos propres mappages personnalisés. </p><blockquote><ol><li> <a href="gamepad_get_mapping.html">gamepad_get_mapping</a> <br></li><li> <a href=
"gamepad_test_mapping.html">gamepad_test_mapping</a> <br></li><li> <a href=
"gamepad_remove_mapping.html">gamepad_remove_mapping</a> <br></li></ol></blockquote><p><br></p><h2> Compatibilité </h2><p> La liste suivante indique la compatibilité actuelle entre les plates-formes (notez que cela changera avec les mises à jour futures): <br><br></p><ul><li> Windows est entièrement pris en charge avec un maximum de 12 périphériques connectés autorisés à la fois (numérotés de 0 à 11, 0 à 3 étant des périphériques XInput et 4 à 11, des entrées DirectInput). Le remappage des constantes de contrôleur est également autorisé. <br></li><li> Mac OS est pris en charge avec un maximum de 4 périphériques connectés autorisés à la fois. Ces périphériques peuvent UNIQUEMENT être du type <span class="notranslate">Playstation</span> 3 ou Xbox 360. Notez que l&#39;option &quot; <b>Build for Mac AppStore</b> &quot; des options de jeu Mac doit être OFF pour que le support du pad fonctionne. Le remappage des constantes de contrôleur est également autorisé. <br><br></li><li> Ubuntu prend également en charge les entrées Gamepad, mais vous devrez peut-être installer des bibliothèques supplémentaires à partir du référentiel Ubuntu. Vous pouvez le faire facilement en ouvrant un terminal en ligne de commande et en tapant ce qui suit: <p class="code">sudo apt-get install jstest-gtk<br>
sudo apt-get install joystick.<br><span class="notranslate"></span></p><p> Cela installera la prise en charge de l’interface graphique pour la manette de jeu / manette de jeu ainsi que pour l’API manette de jeu / manette de jeu elle-même. Le remappage des constantes de contrôleur n&#39;est <i>pas</i> autorisé. <br><br></p></li><li> Les jeux HTML5 utilisant des manettes de jeu sont pris en charge par la plupart des navigateurs principaux, à l&#39;exception de <i>Safari</i>. Le remappage des constantes de contrôleur n&#39;est <i>pas</i> autorisé. <br><br></li><li> Le support Gamepad s&#39;étend également à iOS avec le cabinet <b>iCade</b>. L&#39;axe gauche correspond au contrôleur de manche (bien que l&#39;entrée soit numérique, pas analogique), les quatre boutons &quot;face&quot; correspondent aux boutons avant de l&#39;armoire et les quatre boutons d&#39;épaule à ceux situés à l&#39;arrière de l&#39;armoire. <br><br></li><li> <span class="notranslate">Android</span> exportation <span class="notranslate">Android</span> prend en charge les contrôleurs NYKO et les contrôleurs Bluetooth génériques (y compris OUYA), mais uniquement lorsqu&#39;ils sont activés, ce qui signifie que vous devrez cocher l&#39;option iCade / Bluetooth dans la section <a href=
"../../../../2_interface/3_settings/game_options/options_android.html">Général</a> des <b>Options de jeu <span class="notranslate">Android</span></b>. Ils ont besoin du niveau 12 de l’API pour fonctionner pleinement et il est à noter que <i><span class="notranslate">GameMaker Studio 2</span></i> enregistrera en tant que périphérique connecté tout périphérique Bluetooth auquel votre périphérique est associé, qu’il soit réellement connecté ou non. Cela doit donc être pris en compte lors de l&#39;attribution et de la vérification des &quot;slots&quot;. Notez que le remappage des constantes de contrôleur est également autorisé. <br><br></li><li> Sur PS4, si vous souhaitez utiliser le suivi du pavé tactile, vous devez utiliser le <a href=
"../device%20input/index.html"><tt>device_mouse_*</tt></a> boutons. Le remappage des constantes de contrôleur n&#39;est <i>pas</i> autorisé. <br><br></li><li> Sur les cibles <span class="notranslate">Windows UWP</span>, XBoxOne et Nintendo Switch, les manettes de jeu sont entièrement prises en charge, mais le remappage des constantes de contrôleur n’est <i>pas</i> autorisé. </li></ul><p> Idéalement, sur <i>toutes</i> les plates-formes cibles, vous souhaitez énumérer une liste des &quot;emplacements&quot; de la manette de jeu disponibles, puis les vérifier pour voir si des périphériques sont détectés, à peu près comme ceci: </p><p class="code">var maxpads = gamepad_get_device_count();<b>for
(var i = 0; i &lt; maxpads; i++)<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;if (gamepad_is_connected(i))<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// do stuff with
pad "i"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br></b><span class="notranslate"></span></p><p><br></p></div><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Retour: <a href=
"../index.html">Contrôles</a> </div><div style="float:right"> Next: <a href=
"../virtual%20keys/index.html">Touches virtuelles</a> </div></div></div><h5>© Copyright YoYo Games Ltd. 2018 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
